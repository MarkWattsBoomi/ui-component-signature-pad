!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e){t.exports=React},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(2))},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=n(3);n(7);var s=function(t){function e(e){var n=t.call(this,e)||this;n.componentId="",n.flowKey="",n.attributes={},n.selectedItem=null,n.text="",n.componentId=e.id,n.flowKey=e.flowKey;var i=manywho.model.getComponent(n.props.id,n.props.flowKey);if(i.attributes)for(var o in i.attributes)n.attributes[o]=i.attributes[o];return n}return i(e,t),e.prototype.componentDidMount=function(){var t=manywho.model.getComponent(this.props.id,this.props.flowKey),e=manywho.state.getComponent(this.props.id,this.props.flowKey);if(t.contentValue){e.contentValue=t.contentValue;this.refs.signaturePad.fromDataURL(t.contentValue)}this.forceUpdate()},e.prototype.componentDidUpdate=function(){this.refs.signaturePad},e.prototype.getAttribute=function(t){return this.attributes[t]?this.attributes[t]:null},e.prototype.clearSignature=function(){var t=this.refs.signaturePad;t.clear();var e=t.toDataURL();manywho.state.getComponent(this.props.id,this.props.flowKey).contentValue=e},e.prototype.strokeEnd=function(){var t=this.refs.signaturePad,e=t.toDataURL();manywho.state.getComponent(this.props.id,this.props.flowKey).contentValue=e},e.prototype.render=function(){var t=(manywho.model.getComponent(this.props.id,this.props.flowKey),manywho.state.getComponent(this.props.id,this.props.flowKey),{});t.width="100px",t.height="70",t.penColor="#000000",t.redrawOnResize=!0,t.onEnd=this.strokeEnd.bind(this);return o.createElement("div",{className:"signature-box"},o.createElement("div",{className:"signature-box-header"},o.createElement("div",{style:{float:"left"}},o.createElement("span",{className:"signature-box-header-title"},"Signature - please draw your signature in the area below")),o.createElement("div",{style:{float:"right"}},o.createElement("span",{className:"glyphicon glyphicon-remove signature-box-header-button",onClick:this.clearSignature.bind(this)}))),o.createElement("div",{className:"signature-box-body"},o.createElement(r,{ref:"signaturePad",redrawOnResize:!0,options:t})))},e}(o.Component);manywho.component.register("SignatureBox",s),e.default=s},function(t,e,n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function o(t,e,n){this.x=t,this.y=e,this.time=n||(new Date).getTime()}function r(t,e,n,i){this.startPoint=t,this.control1=e,this.control2=n,this.endPoint=i}function s(t,e,n){var i,o,r,s=null,a=0;n||(n={});var h=function(){a=!1===n.leading?0:Date.now(),s=null,r=t.apply(i,o),s||(i=o=null)};return function(){var u=Date.now();a||!1!==n.leading||(a=u);var c=e-(u-a);return i=this,o=arguments,c<=0||e<c?(s&&(clearTimeout(s),s=null),a=u,r=t.apply(i,o),s||(i=o=null)):s||!1===n.trailing||(s=setTimeout(h,c)),r}}function a(t,e){var n=this,i=e||{};this.velocityFilterWeight=i.velocityFilterWeight||.7,this.minWidth=i.minWidth||.5,this.maxWidth=i.maxWidth||2.5,this.throttle="throttle"in i?i.throttle:16,this.minDistance="minDistance"in i?i.minDistance:5,this.throttle?this._strokeMoveUpdate=s(a.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=a.prototype._strokeUpdate,this.dotSize=i.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=i.penColor||"black",this.backgroundColor=i.backgroundColor||"rgba(0,0,0,0)",this.onBegin=i.onBegin,this.onEnd=i.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(t){1===t.which&&(n._mouseButtonDown=!0,n._strokeBegin(t))},this._handleMouseMove=function(t){n._mouseButtonDown&&n._strokeMoveUpdate(t)},this._handleMouseUp=function(t){1===t.which&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(t))},this._handleTouchStart=function(t){if(1===t.targetTouches.length){var e=t.changedTouches[0];n._strokeBegin(e)}},this._handleTouchMove=function(t){t.preventDefault();var e=t.targetTouches[0];n._strokeMoveUpdate(e)},this._handleTouchEnd=function(t){t.target===n._canvas&&(t.preventDefault(),n._strokeEnd(t))},this.on()}function h(t,e,n,i){var o,r=0;return"boolean"!=typeof e&&(i=n,n=e,e=void 0),function(){function s(){r=Number(new Date),n.apply(a,u)}var a=this,h=Number(new Date)-r,u=arguments;i&&!o&&s(),o&&clearTimeout(o),void 0===i&&t<h?s():!0!==e&&(o=setTimeout(i?function(){o=void 0}:s,void 0===i?t-h:t))}}function u(t,e,n){return void 0===n?h(t,e,!1):h(t,n,!1!==e)}var c=n(0),l=i(c),d=i(n(4));o.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1},o.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},o.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time},r.prototype.length=function(){for(var t=0,e=void 0,n=void 0,i=0;i<=10;i+=1){var o=i/10,r=this._point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),s=this._point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(0<i){var a=r-e,h=s-n;t+=Math.sqrt(a*a+h*h)}e=r,n=s}return t},r.prototype._point=function(t,e,n,i,o){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*i*(1-t)*t*t+o*t*t*t},a.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0},a.prototype.fromDataURL=function(t){var e=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=new Image,o=n.ratio||window.devicePixelRatio||1,r=n.width||this._canvas.width/o,s=n.height||this._canvas.height/o;this._reset(),i.src=t,i.onload=function(){e._ctx.drawImage(i,0,0,r,s)},this._isEmpty=!1},a.prototype.toDataURL=function(t){var e;switch(t){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,i=Array(1<n?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return(e=this._canvas).toDataURL.apply(e,[t].concat(i))}},a.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},a.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},a.prototype.isEmpty=function(){return this._isEmpty},a.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),"function"==typeof this.onBegin&&this.onBegin(t)},a.prototype._strokeUpdate=function(t){var e=t.clientX,n=t.clientY,i=this._createPoint(e,n),o=this._data[this._data.length-1],r=o&&o[o.length-1],s=r&&i.distanceTo(r)<this.minDistance;if(!r||!s){var a=this._addPoint(i),h=a.curve,u=a.widths;h&&u&&this._drawCurve(h,u.start,u.end),this._data[this._data.length-1].push({x:i.x,y:i.y,time:i.time,color:this.penColor})}},a.prototype._strokeEnd=function(t){var e=2<this.points.length,n=this.points[0];if(!e&&n&&this._drawDot(n),n){var i=this._data[this._data.length-1],o=i[i.length-1];n.equals(o)||i.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}"function"==typeof this.onEnd&&this.onEnd(t)},a.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},a.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},a.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},a.prototype._createPoint=function(t,e,n){var i=this._canvas.getBoundingClientRect();return new o(t-i.left,e-i.top,n||(new Date).getTime())},a.prototype._addPoint=function(t){var e=this.points;if(e.push(t),2<e.length){3===e.length&&e.unshift(e[0]);var n=this._calculateCurveControlPoints(e[0],e[1],e[2]).c2,i=this._calculateCurveControlPoints(e[1],e[2],e[3]).c1,o=new r(e[1],n,i,e[2]),s=this._calculateCurveWidths(o);return e.shift(),{curve:o,widths:s}}return{}},a.prototype._calculateCurveControlPoints=function(t,e,n){var i=t.x-e.x,r=t.y-e.y,s=e.x-n.x,a=e.y-n.y,h=(t.x+e.x)/2,u=(t.y+e.y)/2,c=(e.x+n.x)/2,l=(e.y+n.y)/2,d=Math.sqrt(i*i+r*r),p=Math.sqrt(s*s+a*a),f=p/(d+p),v=c+(h-c)*f,_=l+(u-l)*f,y=e.x-v,g=e.y-_;return{c1:new o(h+y,u+g),c2:new o(c+y,l+g)}},a.prototype._calculateCurveWidths=function(t){var e=t.startPoint,n=t.endPoint,i={start:null,end:null},o=this.velocityFilterWeight*n.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,r=this._strokeWidth(o);return i.start=this._lastWidth,i.end=r,this._lastVelocity=o,this._lastWidth=r,i},a.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)},a.prototype._drawPoint=function(t,e,n){var i=this._ctx;i.moveTo(t,e),i.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1},a.prototype._drawCurve=function(t,e,n){var i=this._ctx,o=n-e,r=Math.floor(t.length());i.beginPath();for(var s=0;s<r;s+=1){var a=s/r,h=a*a,u=h*a,c=1-a,l=c*c,d=l*c,p=d*t.startPoint.x;p+=3*l*a*t.control1.x,p+=3*c*h*t.control2.x,p+=u*t.endPoint.x;var f=d*t.startPoint.y;f+=3*l*a*t.control1.y,f+=3*c*h*t.control2.y,f+=u*t.endPoint.y;var v=e+u*o;this._drawPoint(p,f,v)}i.closePath(),i.fill()},a.prototype._drawDot=function(t){var e=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,n),e.closePath(),e.fill()},a.prototype._fromData=function(t,e,n){for(var i=0;i<t.length;i+=1){var r=t[i];if(1<r.length)for(var s=0;s<r.length;s+=1){var a=r[s],h=new o(a.x,a.y,a.time),u=a.color;if(0===s)this.penColor=u,this._reset(),this._addPoint(h);else if(s!==r.length-1){var c=this._addPoint(h),l=c.curve,d=c.widths;l&&d&&e(l,d,u)}}else this._reset(),n(r[0])}},a.prototype._toSVG=function(){var t=this,e=this._data,n=this._canvas,i=Math.max(window.devicePixelRatio||1,1),o=n.width/i,r=n.height/i,s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttributeNS(null,"width",n.width),s.setAttributeNS(null,"height",n.height),this._fromData(e,function(t,e,n){var i=document.createElement("path");if(!(isNaN(t.control1.x)||isNaN(t.control1.y)||isNaN(t.control2.x)||isNaN(t.control2.y))){var o="M "+t.startPoint.x.toFixed(3)+","+t.startPoint.y.toFixed(3)+" C "+t.control1.x.toFixed(3)+","+t.control1.y.toFixed(3)+" "+t.control2.x.toFixed(3)+","+t.control2.y.toFixed(3)+" "+t.endPoint.x.toFixed(3)+","+t.endPoint.y.toFixed(3);i.setAttribute("d",o),i.setAttribute("stroke-width",(2.25*e.end).toFixed(3)),i.setAttribute("stroke",n),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),s.appendChild(i)}},function(e){var n=document.createElement("circle"),i="function"==typeof t.dotSize?t.dotSize():t.dotSize;n.setAttribute("r",i),n.setAttribute("cx",e.x),n.setAttribute("cy",e.y),n.setAttribute("fill",e.color),s.appendChild(n)});var a='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+o+" "+r+'" width="'+o+'" height="'+r+'">',h=s.innerHTML;if(void 0===h){var u=document.createElement("dummy"),c=s.childNodes;u.innerHTML="";for(var l=0;l<c.length;l+=1)u.appendChild(c[l].cloneNode(!0));h=u.innerHTML}return"data:image/svg+xml;base64,"+btoa(a+h+"</svg>")},a.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,function(t,n){return e._drawCurve(t,n.start,n.end)},function(t){return e._drawDot(t)}),this._data=t},a.prototype.toData=function(){return this._data};var p=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},y=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},g=function(t){function e(t){p(this,e);var n=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={canvasWidth:0,canvasHeight:0},n._callResizeHandler=u(n.props.debounceInterval,n.handleResize.bind(n)),n}return _(e,t),f(e,[{key:"componentDidMount",value:function(){this._canvas&&(this.props.width&&this.props.height||(this._canvas.style.width="100%"),this.scaleCanvas(),this.props.width&&this.props.height||window.addEventListener("resize",this._callResizeHandler),this._signaturePad=new a(this._canvas,this.props.options))}},{key:"componentWillUnmount",value:function(){this.props.width&&this.props.height||window.removeEventListener("resize",this._callResizeHandler),this._signaturePad.off()}},{key:"isEmpty",value:function(){return this._signaturePad.isEmpty()}},{key:"clear",value:function(){this._signaturePad.clear()}},{key:"fromDataURL",value:function(t){this._signaturePad.fromDataURL(t)}},{key:"toDataURL",value:function(t){return this._signaturePad.toDataURL(t)}},{key:"fromData",value:function(t){this._signaturePad.fromData(t)}},{key:"toData",value:function(){return this._signaturePad.toData()}},{key:"off",value:function(){this._signaturePad.off()}},{key:"on",value:function(){this._signaturePad.on()}},{key:"handleResize",value:function(){this.scaleCanvas()}},{key:"scaleCanvas",value:function(){var t=Math.max(window.devicePixelRatio||1,1),e=(this.props.width||this._canvas.offsetWidth)*t,n=(this.props.height||this._canvas.offsetHeight)*t,i=this.state,o=i.canvasWidth,r=i.canvasHeight;if(e!==o||n!==r){var s=void 0;this.props.redrawOnResize&&this._signaturePad&&(s=this._signaturePad.toDataURL()),this._canvas.width=e,this._canvas.height=n,this.setState({canvasWidth:e,canvasHeight:n}),this._canvas.getContext("2d").scale(t,t),this.props.redrawOnResize&&this._signaturePad?this._signaturePad.fromDataURL(s):this._signaturePad&&this._signaturePad.clear()}}},{key:"render",value:function(){var t=this,e=this.props.canvasProps;return l.createElement("canvas",v({ref:function(e){return t._canvas=e}},e))}},{key:"instance",get:function(){return this._signaturePad}},{key:"canvas",get:function(){return this._canvas}},{key:"dotSize",set:function(t){this._signaturePad.dotSize=t},get:function(){return this._signaturePad.dotSize}},{key:"minWidth",set:function(t){this._signaturePad.minWidth=t},get:function(){return this._signaturePad.minWidth}},{key:"maxWidth",set:function(t){this._signaturePad.maxWidth=t},get:function(){return this._signaturePad.maxWidth}},{key:"throttle",set:function(t){this._signaturePad.throttle=t},get:function(){return this._signaturePad.throttle}},{key:"backgroundColor",set:function(t){this._signaturePad.backgroundColor=t},get:function(){return this._signaturePad.backgroundColor}},{key:"penColor",set:function(t){this._signaturePad.penColor=t},get:function(){return this._signaturePad.penColor}},{key:"velocityFilterWeight",set:function(t){this._signaturePad.velocityFilterWeight=t},get:function(){return this._signaturePad.velocityFilterWeight}},{key:"onBegin",set:function(t){if(!t||"function"!=typeof t)throw new Error("Invalid argument passed to onBegin()");this._signaturePad.onBegin=t}},{key:"onEnd",set:function(t){if(!t||"function"!=typeof t)throw new Error("Invalid argument passed to onEnd()");this._signaturePad.onEnd=t}}]),e}(c.PureComponent);g.displayName="react-signature-pad-wrapper",g.propTypes={width:d.number,height:d.number,options:d.object,redrawOnResize:d.bool.isRequired,debounceInterval:d.number.isRequired,canvasProps:d.object},g.defaultProps={redrawOnResize:!1,debounceInterval:150},t.exports=g},function(t,e,n){t.exports=n(5)()},function(t,e,n){"use strict";function i(){}var o=n(6);t.exports=function(){function t(t,e,n,i,r,s){if(s!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=i,n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vU2lnbmF0dXJlQm94LmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCBiMDU3M2M3OGEyZDg5NTJhYmIxZSIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJSZWFjdFwiIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL1NpZ25hdHVyZUJveC50c3giLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9zaWduYXR1cmVfcGFkL2Rpc3Qvc2lnbmF0dXJlX3BhZC5tanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy90aHJvdHRsZS1kZWJvdW5jZS9pbmRleC5lc20uanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9TaWduYXR1cmVQYWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXNpZ25hdHVyZS1wYWQtd3JhcHBlci9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3Qtc2lnbmF0dXJlLXBhZC13cmFwcGVyL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3Qtc2lnbmF0dXJlLXBhZC13cmFwcGVyL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldC5qcyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiUmVhY3QiLCJ2YWx1ZSIsIl9fZXh0ZW5kcyIsInRoaXMiLCJleHRlbmRTdGF0aWNzIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsImIiLCJfXyIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiU2lnbmF0dXJlUGFkIiwiU2lnbmF0dXJlQm94IiwiX3N1cGVyIiwicHJvcHMiLCJfdGhpcyIsImNvbXBvbmVudElkIiwiZmxvd0tleSIsImF0dHJpYnV0ZXMiLCJzZWxlY3RlZEl0ZW0iLCJ0ZXh0IiwiaWQiLCJmbG93TW9kZWwiLCJtYW55d2hvIiwibW9kZWwiLCJnZXRDb21wb25lbnQiLCJrZXkiLCJjb21wb25lbnREaWRNb3VudCIsImZsb3dTdGF0ZSIsInN0YXRlIiwiY29udGVudFZhbHVlIiwicmVmcyIsInNpZ25hdHVyZVBhZCIsImZyb21EYXRhVVJMIiwiZm9yY2VVcGRhdGUiLCJjb21wb25lbnREaWRVcGRhdGUiLCJnZXRBdHRyaWJ1dGUiLCJhdHRyaWJ1dGVOYW1lIiwiY2xlYXJTaWduYXR1cmUiLCJzaWdwYWQiLCJjbGVhciIsImRhdGEiLCJ0b0RhdGFVUkwiLCJzdHJva2VFbmQiLCJyZW5kZXIiLCJvcHRpb25zIiwid2lkdGgiLCJoZWlnaHQiLCJwZW5Db2xvciIsInJlZHJhd09uUmVzaXplIiwib25FbmQiLCJiaW5kIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsInN0eWxlIiwiZmxvYXQiLCJvbkNsaWNrIiwicmVmIiwiQ29tcG9uZW50IiwiY29tcG9uZW50IiwicmVnaXN0ZXIiLCJkZWZhdWx0IiwiX2ludGVyb3BEZWZhdWx0IiwidCIsIlBvaW50IiwieCIsInkiLCJ0aW1lIiwiRGF0ZSIsImdldFRpbWUiLCJCZXppZXIiLCJzdGFydFBvaW50IiwiY29udHJvbDEiLCJjb250cm9sMiIsImVuZFBvaW50IiwidGhyb3R0bGUiLCJmdW5jIiwid2FpdCIsImNvbnRleHQiLCJhcmdzIiwicmVzdWx0IiwidGltZW91dCIsInByZXZpb3VzIiwibGF0ZXIiLCJsZWFkaW5nIiwibm93IiwiYXBwbHkiLCJyZW1haW5pbmciLCJhcmd1bWVudHMiLCJjbGVhclRpbWVvdXQiLCJ0cmFpbGluZyIsInNldFRpbWVvdXQiLCJjYW52YXMiLCJzZWxmIiwib3B0cyIsInZlbG9jaXR5RmlsdGVyV2VpZ2h0IiwibWluV2lkdGgiLCJtYXhXaWR0aCIsIm1pbkRpc3RhbmNlIiwiX3N0cm9rZU1vdmVVcGRhdGUiLCJfc3Ryb2tlVXBkYXRlIiwiZG90U2l6ZSIsImJhY2tncm91bmRDb2xvciIsIm9uQmVnaW4iLCJfY2FudmFzIiwiX2N0eCIsImdldENvbnRleHQiLCJfaGFuZGxlTW91c2VEb3duIiwiZXZlbnQiLCJ3aGljaCIsIl9tb3VzZUJ1dHRvbkRvd24iLCJfc3Ryb2tlQmVnaW4iLCJfaGFuZGxlTW91c2VNb3ZlIiwiX2hhbmRsZU1vdXNlVXAiLCJfc3Ryb2tlRW5kIiwiX2hhbmRsZVRvdWNoU3RhcnQiLCJ0YXJnZXRUb3VjaGVzIiwibGVuZ3RoIiwidG91Y2giLCJjaGFuZ2VkVG91Y2hlcyIsIl9oYW5kbGVUb3VjaE1vdmUiLCJwcmV2ZW50RGVmYXVsdCIsIl9oYW5kbGVUb3VjaEVuZCIsInRhcmdldCIsIm9uIiwiZGVsYXkiLCJub1RyYWlsaW5nIiwiY2FsbGJhY2siLCJkZWJvdW5jZU1vZGUiLCJ0aW1lb3V0SUQiLCJsYXN0RXhlYyIsImV4ZWMiLCJOdW1iZXIiLCJlbGFwc2VkIiwiZGVib3VuY2UiLCJhdEJlZ2luIiwiUmVhY3RfX2RlZmF1bHQiLCJQcm9wVHlwZXMiLCJ2ZWxvY2l0eUZyb20iLCJzdGFydCIsImRpc3RhbmNlVG8iLCJNYXRoIiwic3FydCIsInBvdyIsImVxdWFscyIsIm90aGVyIiwicHgiLCJweSIsImN4IiwiX3BvaW50IiwiY3kiLCJ4ZGlmZiIsInlkaWZmIiwiYzEiLCJjMiIsImVuZCIsImN0eCIsImZpbGxTdHlsZSIsImNsZWFyUmVjdCIsImZpbGxSZWN0IiwiX2RhdGEiLCJfcmVzZXQiLCJfaXNFbXB0eSIsImRhdGFVcmwiLCJpbWFnZSIsIkltYWdlIiwicmF0aW8iLCJ3aW5kb3ciLCJkZXZpY2VQaXhlbFJhdGlvIiwic3JjIiwib25sb2FkIiwiZHJhd0ltYWdlIiwidHlwZSIsIl90b1NWRyIsIl9sZW4iLCJfa2V5IiwiY29uY2F0IiwiX2hhbmRsZU1vdXNlRXZlbnRzIiwiX2hhbmRsZVRvdWNoRXZlbnRzIiwib2ZmIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRvY3VtZW50IiwiaXNFbXB0eSIsInB1c2giLCJjbGllbnRYIiwiY2xpZW50WSIsInBvaW50IiwiX2NyZWF0ZVBvaW50IiwibGFzdFBvaW50R3JvdXAiLCJsYXN0UG9pbnQiLCJpc0xhc3RQb2ludFRvb0Nsb3NlIiwiX2FkZFBvaW50IiwiY3VydmUiLCJ3aWR0aHMiLCJfZHJhd0N1cnZlIiwiY29sb3IiLCJjYW5EcmF3Q3VydmUiLCJwb2ludHMiLCJfZHJhd0RvdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJtc1RvdWNoQWN0aW9uIiwidG91Y2hBY3Rpb24iLCJfbGFzdFZlbG9jaXR5IiwiX2xhc3RXaWR0aCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsZWZ0IiwidG9wIiwidW5zaGlmdCIsIl9jYWxjdWxhdGVDdXJ2ZUNvbnRyb2xQb2ludHMiLCJjMyIsIl9jYWxjdWxhdGVDdXJ2ZVdpZHRocyIsInNoaWZ0IiwiczEiLCJzMiIsInMzIiwiZHgxIiwiZHkxIiwiZHgyIiwiZHkyIiwibTEiLCJtMiIsImwxIiwibDIiLCJrIiwiY20iLCJ0eCIsInR5IiwidmVsb2NpdHkiLCJuZXdXaWR0aCIsIl9zdHJva2VXaWR0aCIsIm1heCIsIl9kcmF3UG9pbnQiLCJzaXplIiwibW92ZVRvIiwiYXJjIiwiUEkiLCJzdGFydFdpZHRoIiwiZW5kV2lkdGgiLCJ3aWR0aERlbHRhIiwiZHJhd1N0ZXBzIiwiZmxvb3IiLCJiZWdpblBhdGgiLCJ0dCIsInR0dCIsInUiLCJ1dSIsInV1dSIsImNsb3NlUGF0aCIsImZpbGwiLCJfZnJvbURhdGEiLCJwb2ludEdyb3VwcyIsImRyYXdDdXJ2ZSIsImRyYXdEb3QiLCJncm91cCIsImoiLCJyYXdQb2ludCIsIl9hZGRQb2ludDIiLCJfdGhpczIiLCJtYXhYIiwibWF4WSIsInN2ZyIsImNyZWF0ZUVsZW1lbnROUyIsInNldEF0dHJpYnV0ZU5TIiwicGF0aCIsImlzTmFOIiwiYXR0ciIsInRvRml4ZWQiLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsImNpcmNsZSIsImhlYWRlciIsImJvZHkiLCJpbm5lckhUTUwiLCJkdW1teSIsIm5vZGVzIiwiY2hpbGROb2RlcyIsImNsb25lTm9kZSIsImJ0b2EiLCJmcm9tRGF0YSIsIl90aGlzMyIsInRvRGF0YSIsImNhbnZhc1dpZHRoIiwiY2FudmFzSGVpZ2h0IiwiZSIsIl9jYWxsUmVzaXplSGFuZGxlciIsImRlYm91bmNlSW50ZXJ2YWwiLCJoYW5kbGVSZXNpemUiLCJzY2FsZUNhbnZhcyIsIl9zaWduYXR1cmVQYWQiLCJTaWdQYWQiLCJiYXNlNjRTdHJpbmciLCJtaW1lIiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJzZXRTdGF0ZSIsInNjYWxlIiwiY2FudmFzUHJvcHMiLCJ3ZWlnaHQiLCJmbiIsIkVycm9yIiwiUHVyZUNvbXBvbmVudCIsImRpc3BsYXlOYW1lIiwicHJvcFR5cGVzIiwibnVtYmVyIiwiYm9vbCIsImlzUmVxdWlyZWQiLCJkZWZhdWx0UHJvcHMiLCJTaWduYXR1cmVQYWQkMSIsImVtcHR5RnVuY3Rpb24iLCJSZWFjdFByb3BUeXBlc1NlY3JldCIsInNoaW0iLCJwcm9wTmFtZSIsImNvbXBvbmVudE5hbWUiLCJsb2NhdGlvbiIsInByb3BGdWxsTmFtZSIsInNlY3JldCIsImVyciIsImdldFNoaW0iLCJSZWFjdFByb3BUeXBlcyIsImFycmF5Iiwic3RyaW5nIiwic3ltYm9sIiwiYW55IiwiYXJyYXlPZiIsImVsZW1lbnQiLCJpbnN0YW5jZU9mIiwibm9kZSIsIm9iamVjdE9mIiwib25lT2YiLCJvbmVPZlR5cGUiLCJzaGFw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QUMsS0FDQSxNQUFBUCxHQUZBQSxFQUFBTCxXQUFBSyxDQU1BLElBQUFRLElBQ0FDLE1BQUFULEVBQ0FOLEtBQUFNLEVBQ0EzTyxLQUFBMk8sRUFDQVAsT0FBQU8sRUFDQTlULE9BQUE4VCxFQUNBVSxPQUFBVixFQUNBVyxPQUFBWCxFQUVBWSxJQUFBWixFQUNBYSxRQUFBTixFQUNBTyxRQUFBZCxFQUNBZSxXQUFBUixFQUNBUyxLQUFBaEIsRUFDQWlCLFNBQUFWLEVBQ0FXLE1BQUFYLEVBQ0FZLFVBQUFaLEVBQ0FhLE1BQUFiLEVBQ0FjLE1BQUFkLEVBTUEsT0FIQUMsR0FBQWMsZUFBQXhCLEVBQ0FVLEVBQUF0TCxVQUFBc0wsRUFFQUEsSVQ4T00sU0FBVXZWLEVBQVFELEVBQVNILEdBRWpDLFlVOVJBSSxHQUFBRCxRQUZBLGdEVmlUTSxTQUFVQyxFQUFRRCIsImZpbGUiOiJTaWduYXR1cmVCb3guanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4vKioqKioqLyBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4vKioqKioqLyBcdFx0XHRcdGdldDogZ2V0dGVyXG4vKioqKioqLyBcdFx0XHR9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3Q7XG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5fX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKTtcclxuXG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgUmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgU2lnbmF0dXJlUGFkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcclxuX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcclxudmFyIFNpZ25hdHVyZUJveCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTaWduYXR1cmVCb3gsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTaWduYXR1cmVCb3gocHJvcHMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb21wb25lbnRJZCA9IFwiXCI7XHJcbiAgICAgICAgX3RoaXMuZmxvd0tleSA9IFwiXCI7XHJcbiAgICAgICAgX3RoaXMuYXR0cmlidXRlcyA9IHt9O1xyXG4gICAgICAgIF90aGlzLnNlbGVjdGVkSXRlbSA9IG51bGw7XHJcbiAgICAgICAgX3RoaXMudGV4dCA9IFwiXCI7XHJcbiAgICAgICAgX3RoaXMuY29tcG9uZW50SWQgPSBwcm9wcy5pZDtcclxuICAgICAgICBfdGhpcy5mbG93S2V5ID0gcHJvcHMuZmxvd0tleTtcclxuICAgICAgICAvL3B1c2ggYXR0cmlidXRlcyBpbnRvIGtleWVkIG1hcCBcclxuICAgICAgICB2YXIgZmxvd01vZGVsID0gbWFueXdoby5tb2RlbC5nZXRDb21wb25lbnQoX3RoaXMucHJvcHMuaWQsIF90aGlzLnByb3BzLmZsb3dLZXkpO1xyXG4gICAgICAgIGlmIChmbG93TW9kZWwuYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gZmxvd01vZGVsLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmF0dHJpYnV0ZXNba2V5XSA9IGZsb3dNb2RlbC5hdHRyaWJ1dGVzW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgU2lnbmF0dXJlQm94LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZmxvd01vZGVsID0gbWFueXdoby5tb2RlbC5nZXRDb21wb25lbnQodGhpcy5wcm9wcy5pZCwgdGhpcy5wcm9wcy5mbG93S2V5KTtcclxuICAgICAgICB2YXIgZmxvd1N0YXRlID0gbWFueXdoby5zdGF0ZS5nZXRDb21wb25lbnQodGhpcy5wcm9wcy5pZCwgdGhpcy5wcm9wcy5mbG93S2V5KTtcclxuICAgICAgICBpZiAoZmxvd01vZGVsLmNvbnRlbnRWYWx1ZSkge1xyXG4gICAgICAgICAgICBmbG93U3RhdGUuY29udGVudFZhbHVlID0gZmxvd01vZGVsLmNvbnRlbnRWYWx1ZTtcclxuICAgICAgICAgICAgdmFyIHNpZ1BhZCA9IHRoaXMucmVmcy5zaWduYXR1cmVQYWQ7XHJcbiAgICAgICAgICAgIHNpZ1BhZC5mcm9tRGF0YVVSTChmbG93TW9kZWwuY29udGVudFZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xyXG4gICAgfTtcclxuICAgIFNpZ25hdHVyZUJveC5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBzaWdQYWQgPSB0aGlzLnJlZnMuc2lnbmF0dXJlUGFkO1xyXG4gICAgICAgIC8vc2lnUGFkLm9uRW5kID0gdGhpcy5zdHJva2VFbmQuYmluZCh0aGlzKTsgXHJcbiAgICB9O1xyXG4gICAgU2lnbmF0dXJlQm94LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoYXR0cmlidXRlTmFtZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBTaWduYXR1cmVCb3gucHJvdG90eXBlLmNsZWFyU2lnbmF0dXJlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBzaWdwYWQgPSB0aGlzLnJlZnMuc2lnbmF0dXJlUGFkO1xyXG4gICAgICAgIHNpZ3BhZC5jbGVhcigpO1xyXG4gICAgICAgIHZhciBkYXRhID0gc2lncGFkLnRvRGF0YVVSTCgpO1xyXG4gICAgICAgIHZhciBmbG93U3RhdGUgPSBtYW55d2hvLnN0YXRlLmdldENvbXBvbmVudCh0aGlzLnByb3BzLmlkLCB0aGlzLnByb3BzLmZsb3dLZXkpO1xyXG4gICAgICAgIGZsb3dTdGF0ZS5jb250ZW50VmFsdWUgPSBkYXRhO1xyXG4gICAgfTtcclxuICAgIFNpZ25hdHVyZUJveC5wcm90b3R5cGUuc3Ryb2tlRW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBzaWdwYWQgPSB0aGlzLnJlZnMuc2lnbmF0dXJlUGFkO1xyXG4gICAgICAgIHZhciBkYXRhID0gc2lncGFkLnRvRGF0YVVSTCgpO1xyXG4gICAgICAgIHZhciBmbG93U3RhdGUgPSBtYW55d2hvLnN0YXRlLmdldENvbXBvbmVudCh0aGlzLnByb3BzLmlkLCB0aGlzLnByb3BzLmZsb3dLZXkpO1xyXG4gICAgICAgIGZsb3dTdGF0ZS5jb250ZW50VmFsdWUgPSBkYXRhO1xyXG4gICAgfTtcclxuICAgIFNpZ25hdHVyZUJveC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBmbG93TW9kZWwgPSBtYW55d2hvLm1vZGVsLmdldENvbXBvbmVudCh0aGlzLnByb3BzLmlkLCB0aGlzLnByb3BzLmZsb3dLZXkpO1xyXG4gICAgICAgIHZhciBmbG93U3RhdGUgPSBtYW55d2hvLnN0YXRlLmdldENvbXBvbmVudCh0aGlzLnByb3BzLmlkLCB0aGlzLnByb3BzLmZsb3dLZXkpO1xyXG4gICAgICAgIHZhciBvcHRpb25zID0ge307XHJcbiAgICAgICAgb3B0aW9ucy53aWR0aCA9IFwiMTAwcHhcIjtcclxuICAgICAgICBvcHRpb25zLmhlaWdodCA9IFwiNzBcIjtcclxuICAgICAgICBvcHRpb25zLnBlbkNvbG9yID0gXCIjMDAwMDAwXCI7XHJcbiAgICAgICAgb3B0aW9ucy5yZWRyYXdPblJlc2l6ZSA9IHRydWU7XHJcbiAgICAgICAgb3B0aW9ucy5vbkVuZCA9IHRoaXMuc3Ryb2tlRW5kLmJpbmQodGhpcyk7XHJcbiAgICAgICAgLy9jcmVhdGUgYW4gYXJyYXkgb2YgU0ZLUmVzdWx0TGlzdEl0ZW0gY2xhc3NlcyBmb3IgdGhlIGRhdGFcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic2lnbmF0dXJlLWJveFwiIH0sXHJcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic2lnbmF0dXJlLWJveC1oZWFkZXJcIiB9LFxyXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiB7IGZsb2F0OiAnbGVmdCcgfSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInNpZ25hdHVyZS1ib3gtaGVhZGVyLXRpdGxlXCIgfSwgXCJTaWduYXR1cmUgLSBwbGVhc2UgZHJhdyB5b3VyIHNpZ25hdHVyZSBpbiB0aGUgYXJlYSBiZWxvd1wiKSksXHJcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGU6IHsgZmxvYXQ6ICdyaWdodCcgfSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImdseXBoaWNvbiBnbHlwaGljb24tcmVtb3ZlIHNpZ25hdHVyZS1ib3gtaGVhZGVyLWJ1dHRvblwiLCBvbkNsaWNrOiB0aGlzLmNsZWFyU2lnbmF0dXJlLmJpbmQodGhpcykgfSkpKSxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzaWduYXR1cmUtYm94LWJvZHlcIiB9LFxyXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChTaWduYXR1cmVQYWQsIHsgcmVmOiBcInNpZ25hdHVyZVBhZFwiLCByZWRyYXdPblJlc2l6ZTogdHJ1ZSwgb3B0aW9uczogb3B0aW9ucyB9KSkpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBTaWduYXR1cmVCb3g7XHJcbn0oUmVhY3QuQ29tcG9uZW50KSk7XHJcbm1hbnl3aG8uY29tcG9uZW50LnJlZ2lzdGVyKCdTaWduYXR1cmVCb3gnLCBTaWduYXR1cmVCb3gpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBTaWduYXR1cmVCb3g7XHJcblxuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfaW50ZXJvcERlZmF1bHQodCl7cmV0dXJuIHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZcImRlZmF1bHRcImluIHQ/dC5kZWZhdWx0OnR9dmFyIFJlYWN0PV9fd2VicGFja19yZXF1aXJlX18oMCksUmVhY3RfX2RlZmF1bHQ9X2ludGVyb3BEZWZhdWx0KFJlYWN0KSxQcm9wVHlwZXM9X2ludGVyb3BEZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oNCkpO2Z1bmN0aW9uIFBvaW50KHQsZSxpKXt0aGlzLng9dCx0aGlzLnk9ZSx0aGlzLnRpbWU9aXx8KG5ldyBEYXRlKS5nZXRUaW1lKCl9ZnVuY3Rpb24gQmV6aWVyKHQsZSxpLG4pe3RoaXMuc3RhcnRQb2ludD10LHRoaXMuY29udHJvbDE9ZSx0aGlzLmNvbnRyb2wyPWksdGhpcy5lbmRQb2ludD1ufWZ1bmN0aW9uIHRocm90dGxlKGksbixvKXt2YXIgYSxyLHMsaD1udWxsLHU9MDtvfHwobz17fSk7dmFyIGM9ZnVuY3Rpb24oKXt1PSExPT09by5sZWFkaW5nPzA6RGF0ZS5ub3coKSxoPW51bGwscz1pLmFwcGx5KGEsciksaHx8KGE9cj1udWxsKX07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9RGF0ZS5ub3coKTt1fHwhMSE9PW8ubGVhZGluZ3x8KHU9dCk7dmFyIGU9bi0odC11KTtyZXR1cm4gYT10aGlzLHI9YXJndW1lbnRzLGU8PTB8fG48ZT8oaCYmKGNsZWFyVGltZW91dChoKSxoPW51bGwpLHU9dCxzPWkuYXBwbHkoYSxyKSxofHwoYT1yPW51bGwpKTpofHwhMT09PW8udHJhaWxpbmd8fChoPXNldFRpbWVvdXQoYyxlKSksc319ZnVuY3Rpb24gU2lnbmF0dXJlUGFkKHQsZSl7dmFyIGk9dGhpcyxuPWV8fHt9O3RoaXMudmVsb2NpdHlGaWx0ZXJXZWlnaHQ9bi52ZWxvY2l0eUZpbHRlcldlaWdodHx8LjcsdGhpcy5taW5XaWR0aD1uLm1pbldpZHRofHwuNSx0aGlzLm1heFdpZHRoPW4ubWF4V2lkdGh8fDIuNSx0aGlzLnRocm90dGxlPVwidGhyb3R0bGVcImluIG4/bi50aHJvdHRsZToxNix0aGlzLm1pbkRpc3RhbmNlPVwibWluRGlzdGFuY2VcImluIG4/bi5taW5EaXN0YW5jZTo1LHRoaXMudGhyb3R0bGU/dGhpcy5fc3Ryb2tlTW92ZVVwZGF0ZT10aHJvdHRsZShTaWduYXR1cmVQYWQucHJvdG90eXBlLl9zdHJva2VVcGRhdGUsdGhpcy50aHJvdHRsZSk6dGhpcy5fc3Ryb2tlTW92ZVVwZGF0ZT1TaWduYXR1cmVQYWQucHJvdG90eXBlLl9zdHJva2VVcGRhdGUsdGhpcy5kb3RTaXplPW4uZG90U2l6ZXx8ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5taW5XaWR0aCt0aGlzLm1heFdpZHRoKS8yfSx0aGlzLnBlbkNvbG9yPW4ucGVuQ29sb3J8fFwiYmxhY2tcIix0aGlzLmJhY2tncm91bmRDb2xvcj1uLmJhY2tncm91bmRDb2xvcnx8XCJyZ2JhKDAsMCwwLDApXCIsdGhpcy5vbkJlZ2luPW4ub25CZWdpbix0aGlzLm9uRW5kPW4ub25FbmQsdGhpcy5fY2FudmFzPXQsdGhpcy5fY3R4PXQuZ2V0Q29udGV4dChcIjJkXCIpLHRoaXMuY2xlYXIoKSx0aGlzLl9oYW5kbGVNb3VzZURvd249ZnVuY3Rpb24odCl7MT09PXQud2hpY2gmJihpLl9tb3VzZUJ1dHRvbkRvd249ITAsaS5fc3Ryb2tlQmVnaW4odCkpfSx0aGlzLl9oYW5kbGVNb3VzZU1vdmU9ZnVuY3Rpb24odCl7aS5fbW91c2VCdXR0b25Eb3duJiZpLl9zdHJva2VNb3ZlVXBkYXRlKHQpfSx0aGlzLl9oYW5kbGVNb3VzZVVwPWZ1bmN0aW9uKHQpezE9PT10LndoaWNoJiZpLl9tb3VzZUJ1dHRvbkRvd24mJihpLl9tb3VzZUJ1dHRvbkRvd249ITEsaS5fc3Ryb2tlRW5kKHQpKX0sdGhpcy5faGFuZGxlVG91Y2hTdGFydD1mdW5jdGlvbih0KXtpZigxPT09dC50YXJnZXRUb3VjaGVzLmxlbmd0aCl7dmFyIGU9dC5jaGFuZ2VkVG91Y2hlc1swXTtpLl9zdHJva2VCZWdpbihlKX19LHRoaXMuX2hhbmRsZVRvdWNoTW92ZT1mdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCk7dmFyIGU9dC50YXJnZXRUb3VjaGVzWzBdO2kuX3N0cm9rZU1vdmVVcGRhdGUoZSl9LHRoaXMuX2hhbmRsZVRvdWNoRW5kPWZ1bmN0aW9uKHQpe3QudGFyZ2V0PT09aS5fY2FudmFzJiYodC5wcmV2ZW50RGVmYXVsdCgpLGkuX3N0cm9rZUVuZCh0KSl9LHRoaXMub24oKX1mdW5jdGlvbiB0aHJvdHRsZSQxKG8sYSxyLHMpe3ZhciBoLHU9MDtyZXR1cm5cImJvb2xlYW5cIiE9dHlwZW9mIGEmJihzPXIscj1hLGE9dm9pZCAwKSxmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1OdW1iZXIobmV3IERhdGUpLXUsaT1hcmd1bWVudHM7ZnVuY3Rpb24gbigpe3U9TnVtYmVyKG5ldyBEYXRlKSxyLmFwcGx5KHQsaSl9cyYmIWgmJm4oKSxoJiZjbGVhclRpbWVvdXQoaCksdm9pZCAwPT09cyYmbzxlP24oKTohMCE9PWEmJihoPXNldFRpbWVvdXQocz9mdW5jdGlvbigpe2g9dm9pZCAwfTpuLHZvaWQgMD09PXM/by1lOm8pKX19ZnVuY3Rpb24gZGVib3VuY2UodCxlLGkpe3JldHVybiB2b2lkIDA9PT1pP3Rocm90dGxlJDEodCxlLCExKTp0aHJvdHRsZSQxKHQsaSwhMSE9PWUpfVBvaW50LnByb3RvdHlwZS52ZWxvY2l0eUZyb209ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGltZSE9PXQudGltZT90aGlzLmRpc3RhbmNlVG8odCkvKHRoaXMudGltZS10LnRpbWUpOjF9LFBvaW50LnByb3RvdHlwZS5kaXN0YW5jZVRvPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQoTWF0aC5wb3codGhpcy54LXQueCwyKStNYXRoLnBvdyh0aGlzLnktdC55LDIpKX0sUG9pbnQucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54PT09dC54JiZ0aGlzLnk9PT10LnkmJnRoaXMudGltZT09PXQudGltZX0sQmV6aWVyLnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPXZvaWQgMCxpPXZvaWQgMCxuPTA7bjw9MTA7bis9MSl7dmFyIG89bi8xMCxhPXRoaXMuX3BvaW50KG8sdGhpcy5zdGFydFBvaW50LngsdGhpcy5jb250cm9sMS54LHRoaXMuY29udHJvbDIueCx0aGlzLmVuZFBvaW50LngpLHI9dGhpcy5fcG9pbnQobyx0aGlzLnN0YXJ0UG9pbnQueSx0aGlzLmNvbnRyb2wxLnksdGhpcy5jb250cm9sMi55LHRoaXMuZW5kUG9pbnQueSk7aWYoMDxuKXt2YXIgcz1hLWUsaD1yLWk7dCs9TWF0aC5zcXJ0KHMqcytoKmgpfWU9YSxpPXJ9cmV0dXJuIHR9LEJlemllci5wcm90b3R5cGUuX3BvaW50PWZ1bmN0aW9uKHQsZSxpLG4sbyl7cmV0dXJuIGUqKDEtdCkqKDEtdCkqKDEtdCkrMyppKigxLXQpKigxLXQpKnQrMypuKigxLXQpKnQqdCtvKnQqdCp0fSxTaWduYXR1cmVQYWQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY3R4LGU9dGhpcy5fY2FudmFzO3QuZmlsbFN0eWxlPXRoaXMuYmFja2dyb3VuZENvbG9yLHQuY2xlYXJSZWN0KDAsMCxlLndpZHRoLGUuaGVpZ2h0KSx0LmZpbGxSZWN0KDAsMCxlLndpZHRoLGUuaGVpZ2h0KSx0aGlzLl9kYXRhPVtdLHRoaXMuX3Jlc2V0KCksdGhpcy5faXNFbXB0eT0hMH0sU2lnbmF0dXJlUGFkLnByb3RvdHlwZS5mcm9tRGF0YVVSTD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLGk9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49bmV3IEltYWdlLG89aS5yYXRpb3x8d2luZG93LmRldmljZVBpeGVsUmF0aW98fDEsYT1pLndpZHRofHx0aGlzLl9jYW52YXMud2lkdGgvbyxyPWkuaGVpZ2h0fHx0aGlzLl9jYW52YXMuaGVpZ2h0L287dGhpcy5fcmVzZXQoKSxuLnNyYz10LG4ub25sb2FkPWZ1bmN0aW9uKCl7ZS5fY3R4LmRyYXdJbWFnZShuLDAsMCxhLHIpfSx0aGlzLl9pc0VtcHR5PSExfSxTaWduYXR1cmVQYWQucHJvdG90eXBlLnRvRGF0YVVSTD1mdW5jdGlvbih0KXt2YXIgZTtzd2l0Y2godCl7Y2FzZVwiaW1hZ2Uvc3ZnK3htbFwiOnJldHVybiB0aGlzLl90b1NWRygpO2RlZmF1bHQ6Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsbj1BcnJheSgxPGk/aS0xOjApLG89MTtvPGk7bysrKW5bby0xXT1hcmd1bWVudHNbb107cmV0dXJuKGU9dGhpcy5fY2FudmFzKS50b0RhdGFVUkwuYXBwbHkoZSxbdF0uY29uY2F0KG4pKX19LFNpZ25hdHVyZVBhZC5wcm90b3R5cGUub249ZnVuY3Rpb24oKXt0aGlzLl9oYW5kbGVNb3VzZUV2ZW50cygpLHRoaXMuX2hhbmRsZVRvdWNoRXZlbnRzKCl9LFNpZ25hdHVyZVBhZC5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKCl7dGhpcy5fY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLl9oYW5kbGVNb3VzZURvd24pLHRoaXMuX2NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5faGFuZGxlTW91c2VNb3ZlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuX2hhbmRsZU1vdXNlVXApLHRoaXMuX2NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMuX2hhbmRsZVRvdWNoU3RhcnQpLHRoaXMuX2NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy5faGFuZGxlVG91Y2hNb3ZlKSx0aGlzLl9jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5faGFuZGxlVG91Y2hFbmQpfSxTaWduYXR1cmVQYWQucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNFbXB0eX0sU2lnbmF0dXJlUGFkLnByb3RvdHlwZS5fc3Ryb2tlQmVnaW49ZnVuY3Rpb24odCl7dGhpcy5fZGF0YS5wdXNoKFtdKSx0aGlzLl9yZXNldCgpLHRoaXMuX3N0cm9rZVVwZGF0ZSh0KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9uQmVnaW4mJnRoaXMub25CZWdpbih0KX0sU2lnbmF0dXJlUGFkLnByb3RvdHlwZS5fc3Ryb2tlVXBkYXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuY2xpZW50WCxpPXQuY2xpZW50WSxuPXRoaXMuX2NyZWF0ZVBvaW50KGUsaSksbz10aGlzLl9kYXRhW3RoaXMuX2RhdGEubGVuZ3RoLTFdLGE9byYmb1tvLmxlbmd0aC0xXSxyPWEmJm4uZGlzdGFuY2VUbyhhKTx0aGlzLm1pbkRpc3RhbmNlO2lmKCFhfHwhcil7dmFyIHM9dGhpcy5fYWRkUG9pbnQobiksaD1zLmN1cnZlLHU9cy53aWR0aHM7aCYmdSYmdGhpcy5fZHJhd0N1cnZlKGgsdS5zdGFydCx1LmVuZCksdGhpcy5fZGF0YVt0aGlzLl9kYXRhLmxlbmd0aC0xXS5wdXNoKHt4Om4ueCx5Om4ueSx0aW1lOm4udGltZSxjb2xvcjp0aGlzLnBlbkNvbG9yfSl9fSxTaWduYXR1cmVQYWQucHJvdG90eXBlLl9zdHJva2VFbmQ9ZnVuY3Rpb24odCl7dmFyIGU9Mjx0aGlzLnBvaW50cy5sZW5ndGgsaT10aGlzLnBvaW50c1swXTtpZighZSYmaSYmdGhpcy5fZHJhd0RvdChpKSxpKXt2YXIgbj10aGlzLl9kYXRhW3RoaXMuX2RhdGEubGVuZ3RoLTFdLG89bltuLmxlbmd0aC0xXTtpLmVxdWFscyhvKXx8bi5wdXNoKHt4OmkueCx5OmkueSx0aW1lOmkudGltZSxjb2xvcjp0aGlzLnBlbkNvbG9yfSl9XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vbkVuZCYmdGhpcy5vbkVuZCh0KX0sU2lnbmF0dXJlUGFkLnByb3RvdHlwZS5faGFuZGxlTW91c2VFdmVudHM9ZnVuY3Rpb24oKXt0aGlzLl9tb3VzZUJ1dHRvbkRvd249ITEsdGhpcy5fY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLl9oYW5kbGVNb3VzZURvd24pLHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5faGFuZGxlTW91c2VNb3ZlKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuX2hhbmRsZU1vdXNlVXApfSxTaWduYXR1cmVQYWQucHJvdG90eXBlLl9oYW5kbGVUb3VjaEV2ZW50cz1mdW5jdGlvbigpe3RoaXMuX2NhbnZhcy5zdHlsZS5tc1RvdWNoQWN0aW9uPVwibm9uZVwiLHRoaXMuX2NhbnZhcy5zdHlsZS50b3VjaEFjdGlvbj1cIm5vbmVcIix0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLl9oYW5kbGVUb3VjaFN0YXJ0KSx0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMuX2hhbmRsZVRvdWNoTW92ZSksdGhpcy5fY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMuX2hhbmRsZVRvdWNoRW5kKX0sU2lnbmF0dXJlUGFkLnByb3RvdHlwZS5fcmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLnBvaW50cz1bXSx0aGlzLl9sYXN0VmVsb2NpdHk9MCx0aGlzLl9sYXN0V2lkdGg9KHRoaXMubWluV2lkdGgrdGhpcy5tYXhXaWR0aCkvMix0aGlzLl9jdHguZmlsbFN0eWxlPXRoaXMucGVuQ29sb3J9LFNpZ25hdHVyZVBhZC5wcm90b3R5cGUuX2NyZWF0ZVBvaW50PWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLl9jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJuIG5ldyBQb2ludCh0LW4ubGVmdCxlLW4udG9wLGl8fChuZXcgRGF0ZSkuZ2V0VGltZSgpKX0sU2lnbmF0dXJlUGFkLnByb3RvdHlwZS5fYWRkUG9pbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wb2ludHM7aWYoZS5wdXNoKHQpLDI8ZS5sZW5ndGgpezM9PT1lLmxlbmd0aCYmZS51bnNoaWZ0KGVbMF0pO3ZhciBpPXRoaXMuX2NhbGN1bGF0ZUN1cnZlQ29udHJvbFBvaW50cyhlWzBdLGVbMV0sZVsyXSkuYzIsbj10aGlzLl9jYWxjdWxhdGVDdXJ2ZUNvbnRyb2xQb2ludHMoZVsxXSxlWzJdLGVbM10pLmMxLG89bmV3IEJlemllcihlWzFdLGksbixlWzJdKSxhPXRoaXMuX2NhbGN1bGF0ZUN1cnZlV2lkdGhzKG8pO3JldHVybiBlLnNoaWZ0KCkse2N1cnZlOm8sd2lkdGhzOmF9fXJldHVybnt9fSxTaWduYXR1cmVQYWQucHJvdG90eXBlLl9jYWxjdWxhdGVDdXJ2ZUNvbnRyb2xQb2ludHM9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXQueC1lLngsbz10LnktZS55LGE9ZS54LWkueCxyPWUueS1pLnkscz0odC54K2UueCkvMixoPSh0LnkrZS55KS8yLHU9KGUueCtpLngpLzIsYz0oZS55K2kueSkvMixkPU1hdGguc3FydChuKm4rbypvKSxsPU1hdGguc3FydChhKmErcipyKSxwPWwvKGQrbCksdj11KyhzLXUpKnAsZj1jKyhoLWMpKnAsXz1lLngtdixnPWUueS1mO3JldHVybntjMTpuZXcgUG9pbnQocytfLGgrZyksYzI6bmV3IFBvaW50KHUrXyxjK2cpfX0sU2lnbmF0dXJlUGFkLnByb3RvdHlwZS5fY2FsY3VsYXRlQ3VydmVXaWR0aHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5zdGFydFBvaW50LGk9dC5lbmRQb2ludCxuPXtzdGFydDpudWxsLGVuZDpudWxsfSxvPXRoaXMudmVsb2NpdHlGaWx0ZXJXZWlnaHQqaS52ZWxvY2l0eUZyb20oZSkrKDEtdGhpcy52ZWxvY2l0eUZpbHRlcldlaWdodCkqdGhpcy5fbGFzdFZlbG9jaXR5LGE9dGhpcy5fc3Ryb2tlV2lkdGgobyk7cmV0dXJuIG4uc3RhcnQ9dGhpcy5fbGFzdFdpZHRoLG4uZW5kPWEsdGhpcy5fbGFzdFZlbG9jaXR5PW8sdGhpcy5fbGFzdFdpZHRoPWEsbn0sU2lnbmF0dXJlUGFkLnByb3RvdHlwZS5fc3Ryb2tlV2lkdGg9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubWF4KHRoaXMubWF4V2lkdGgvKHQrMSksdGhpcy5taW5XaWR0aCl9LFNpZ25hdHVyZVBhZC5wcm90b3R5cGUuX2RyYXdQb2ludD1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5fY3R4O24ubW92ZVRvKHQsZSksbi5hcmModCxlLGksMCwyKk1hdGguUEksITEpLHRoaXMuX2lzRW1wdHk9ITF9LFNpZ25hdHVyZVBhZC5wcm90b3R5cGUuX2RyYXdDdXJ2ZT1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5fY3R4LG89aS1lLGE9TWF0aC5mbG9vcih0Lmxlbmd0aCgpKTtuLmJlZ2luUGF0aCgpO2Zvcih2YXIgcj0wO3I8YTtyKz0xKXt2YXIgcz1yL2EsaD1zKnMsdT1oKnMsYz0xLXMsZD1jKmMsbD1kKmMscD1sKnQuc3RhcnRQb2ludC54O3ArPTMqZCpzKnQuY29udHJvbDEueCxwKz0zKmMqaCp0LmNvbnRyb2wyLngscCs9dSp0LmVuZFBvaW50Lng7dmFyIHY9bCp0LnN0YXJ0UG9pbnQueTt2Kz0zKmQqcyp0LmNvbnRyb2wxLnksdis9MypjKmgqdC5jb250cm9sMi55LHYrPXUqdC5lbmRQb2ludC55O3ZhciBmPWUrdSpvO3RoaXMuX2RyYXdQb2ludChwLHYsZil9bi5jbG9zZVBhdGgoKSxuLmZpbGwoKX0sU2lnbmF0dXJlUGFkLnByb3RvdHlwZS5fZHJhd0RvdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9jdHgsaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmRvdFNpemU/dGhpcy5kb3RTaXplKCk6dGhpcy5kb3RTaXplO2UuYmVnaW5QYXRoKCksdGhpcy5fZHJhd1BvaW50KHQueCx0LnksaSksZS5jbG9zZVBhdGgoKSxlLmZpbGwoKX0sU2lnbmF0dXJlUGFkLnByb3RvdHlwZS5fZnJvbURhdGE9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bis9MSl7dmFyIG89dFtuXTtpZigxPG8ubGVuZ3RoKWZvcih2YXIgYT0wO2E8by5sZW5ndGg7YSs9MSl7dmFyIHI9b1thXSxzPW5ldyBQb2ludChyLngsci55LHIudGltZSksaD1yLmNvbG9yO2lmKDA9PT1hKXRoaXMucGVuQ29sb3I9aCx0aGlzLl9yZXNldCgpLHRoaXMuX2FkZFBvaW50KHMpO2Vsc2UgaWYoYSE9PW8ubGVuZ3RoLTEpe3ZhciB1PXRoaXMuX2FkZFBvaW50KHMpLGM9dS5jdXJ2ZSxkPXUud2lkdGhzO2MmJmQmJmUoYyxkLGgpfX1lbHNlIHRoaXMuX3Jlc2V0KCksaShvWzBdKX19LFNpZ25hdHVyZVBhZC5wcm90b3R5cGUuX3RvU1ZHPWZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0PXRoaXMuX2RhdGEsZT10aGlzLl9jYW52YXMsaT1NYXRoLm1heCh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSwxKSxvPWUud2lkdGgvaSxhPWUuaGVpZ2h0L2kscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFwic3ZnXCIpO3Iuc2V0QXR0cmlidXRlTlMobnVsbCxcIndpZHRoXCIsZS53aWR0aCksci5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiaGVpZ2h0XCIsZS5oZWlnaHQpLHRoaXMuX2Zyb21EYXRhKHQsZnVuY3Rpb24odCxlLGkpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIpO2lmKCEoaXNOYU4odC5jb250cm9sMS54KXx8aXNOYU4odC5jb250cm9sMS55KXx8aXNOYU4odC5jb250cm9sMi54KXx8aXNOYU4odC5jb250cm9sMi55KSkpe3ZhciBvPVwiTSBcIit0LnN0YXJ0UG9pbnQueC50b0ZpeGVkKDMpK1wiLFwiK3Quc3RhcnRQb2ludC55LnRvRml4ZWQoMykrXCIgQyBcIit0LmNvbnRyb2wxLngudG9GaXhlZCgzKStcIixcIit0LmNvbnRyb2wxLnkudG9GaXhlZCgzKStcIiBcIit0LmNvbnRyb2wyLngudG9GaXhlZCgzKStcIixcIit0LmNvbnRyb2wyLnkudG9GaXhlZCgzKStcIiBcIit0LmVuZFBvaW50LngudG9GaXhlZCgzKStcIixcIit0LmVuZFBvaW50LnkudG9GaXhlZCgzKTtuLnNldEF0dHJpYnV0ZShcImRcIixvKSxuLnNldEF0dHJpYnV0ZShcInN0cm9rZS13aWR0aFwiLCgyLjI1KmUuZW5kKS50b0ZpeGVkKDMpKSxuLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLGkpLG4uc2V0QXR0cmlidXRlKFwiZmlsbFwiLFwibm9uZVwiKSxuLnNldEF0dHJpYnV0ZShcInN0cm9rZS1saW5lY2FwXCIsXCJyb3VuZFwiKSxyLmFwcGVuZENoaWxkKG4pfX0sZnVuY3Rpb24odCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNpcmNsZVwiKSxpPVwiZnVuY3Rpb25cIj09dHlwZW9mIG4uZG90U2l6ZT9uLmRvdFNpemUoKTpuLmRvdFNpemU7ZS5zZXRBdHRyaWJ1dGUoXCJyXCIsaSksZS5zZXRBdHRyaWJ1dGUoXCJjeFwiLHQueCksZS5zZXRBdHRyaWJ1dGUoXCJjeVwiLHQueSksZS5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsdC5jb2xvciksci5hcHBlbmRDaGlsZChlKX0pO3ZhciBzPSc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB2aWV3Qm94PVwiMCAwICcrbytcIiBcIithKydcIiB3aWR0aD1cIicrbysnXCIgaGVpZ2h0PVwiJythKydcIj4nLGg9ci5pbm5lckhUTUw7aWYodm9pZCAwPT09aCl7dmFyIHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImR1bW15XCIpLGM9ci5jaGlsZE5vZGVzO3UuaW5uZXJIVE1MPVwiXCI7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKz0xKXUuYXBwZW5kQ2hpbGQoY1tkXS5jbG9uZU5vZGUoITApKTtoPXUuaW5uZXJIVE1MfXJldHVyblwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxcIitidG9hKHMraCtcIjwvc3ZnPlwiKX0sU2lnbmF0dXJlUGFkLnByb3RvdHlwZS5mcm9tRGF0YT1mdW5jdGlvbih0KXt2YXIgaT10aGlzO3RoaXMuY2xlYXIoKSx0aGlzLl9mcm9tRGF0YSh0LGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuX2RyYXdDdXJ2ZSh0LGUuc3RhcnQsZS5lbmQpfSxmdW5jdGlvbih0KXtyZXR1cm4gaS5fZHJhd0RvdCh0KX0pLHRoaXMuX2RhdGE9dH0sU2lnbmF0dXJlUGFkLnByb3RvdHlwZS50b0RhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX07dmFyIGNsYXNzQ2FsbENoZWNrPWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0sY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKHQsZSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBuPWVbaV07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxlLGkpe3JldHVybiBlJiZuKHQucHJvdG90eXBlLGUpLGkmJm4odCxpKSx0fX0oKSxfZXh0ZW5kcz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgaT1hcmd1bWVudHNbZV07Zm9yKHZhciBuIGluIGkpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGksbikmJih0W25dPWlbbl0pfXJldHVybiB0fSxpbmhlcml0cz1mdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfSxwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuPWZ1bmN0aW9uKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9LFNpZ25hdHVyZVBhZCQxPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGkodCl7Y2xhc3NDYWxsQ2hlY2sodGhpcyxpKTt2YXIgZT1wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsKGkuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoaSkpLmNhbGwodGhpcyx0KSk7cmV0dXJuIGUuc3RhdGU9e2NhbnZhc1dpZHRoOjAsY2FudmFzSGVpZ2h0OjB9LGUuX2NhbGxSZXNpemVIYW5kbGVyPWRlYm91bmNlKGUucHJvcHMuZGVib3VuY2VJbnRlcnZhbCxlLmhhbmRsZVJlc2l6ZS5iaW5kKGUpKSxlfXJldHVybiBpbmhlcml0cyhpLHQpLGNyZWF0ZUNsYXNzKGksW3trZXk6XCJjb21wb25lbnREaWRNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fY2FudmFzJiYodGhpcy5wcm9wcy53aWR0aCYmdGhpcy5wcm9wcy5oZWlnaHR8fCh0aGlzLl9jYW52YXMuc3R5bGUud2lkdGg9XCIxMDAlXCIpLHRoaXMuc2NhbGVDYW52YXMoKSx0aGlzLnByb3BzLndpZHRoJiZ0aGlzLnByb3BzLmhlaWdodHx8d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLl9jYWxsUmVzaXplSGFuZGxlciksdGhpcy5fc2lnbmF0dXJlUGFkPW5ldyBTaWduYXR1cmVQYWQodGhpcy5fY2FudmFzLHRoaXMucHJvcHMub3B0aW9ucykpfX0se2tleTpcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnByb3BzLndpZHRoJiZ0aGlzLnByb3BzLmhlaWdodHx8d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLl9jYWxsUmVzaXplSGFuZGxlciksdGhpcy5fc2lnbmF0dXJlUGFkLm9mZigpfX0se2tleTpcImlzRW1wdHlcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaWduYXR1cmVQYWQuaXNFbXB0eSgpfX0se2tleTpcImNsZWFyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9zaWduYXR1cmVQYWQuY2xlYXIoKX19LHtrZXk6XCJmcm9tRGF0YVVSTFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX3NpZ25hdHVyZVBhZC5mcm9tRGF0YVVSTCh0KX19LHtrZXk6XCJ0b0RhdGFVUkxcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc2lnbmF0dXJlUGFkLnRvRGF0YVVSTCh0KX19LHtrZXk6XCJmcm9tRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX3NpZ25hdHVyZVBhZC5mcm9tRGF0YSh0KX19LHtrZXk6XCJ0b0RhdGFcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaWduYXR1cmVQYWQudG9EYXRhKCl9fSx7a2V5Olwib2ZmXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9zaWduYXR1cmVQYWQub2ZmKCl9fSx7a2V5Olwib25cIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3NpZ25hdHVyZVBhZC5vbigpfX0se2tleTpcImhhbmRsZVJlc2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zY2FsZUNhbnZhcygpfX0se2tleTpcInNjYWxlQ2FudmFzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1NYXRoLm1heCh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSwxKSxlPSh0aGlzLnByb3BzLndpZHRofHx0aGlzLl9jYW52YXMub2Zmc2V0V2lkdGgpKnQsaT0odGhpcy5wcm9wcy5oZWlnaHR8fHRoaXMuX2NhbnZhcy5vZmZzZXRIZWlnaHQpKnQsbj10aGlzLnN0YXRlLG89bi5jYW52YXNXaWR0aCxhPW4uY2FudmFzSGVpZ2h0O2lmKGUhPT1vfHxpIT09YSl7dmFyIHI9dm9pZCAwO3RoaXMucHJvcHMucmVkcmF3T25SZXNpemUmJnRoaXMuX3NpZ25hdHVyZVBhZCYmKHI9dGhpcy5fc2lnbmF0dXJlUGFkLnRvRGF0YVVSTCgpKSx0aGlzLl9jYW52YXMud2lkdGg9ZSx0aGlzLl9jYW52YXMuaGVpZ2h0PWksdGhpcy5zZXRTdGF0ZSh7Y2FudmFzV2lkdGg6ZSxjYW52YXNIZWlnaHQ6aX0pLHRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikuc2NhbGUodCx0KSx0aGlzLnByb3BzLnJlZHJhd09uUmVzaXplJiZ0aGlzLl9zaWduYXR1cmVQYWQ/dGhpcy5fc2lnbmF0dXJlUGFkLmZyb21EYXRhVVJMKHIpOnRoaXMuX3NpZ25hdHVyZVBhZCYmdGhpcy5fc2lnbmF0dXJlUGFkLmNsZWFyKCl9fX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMucHJvcHMuY2FudmFzUHJvcHM7cmV0dXJuIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIixfZXh0ZW5kcyh7cmVmOmZ1bmN0aW9uKHQpe3JldHVybiBlLl9jYW52YXM9dH19LHQpKX19LHtrZXk6XCJpbnN0YW5jZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaWduYXR1cmVQYWR9fSx7a2V5OlwiY2FudmFzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhbnZhc319LHtrZXk6XCJkb3RTaXplXCIsc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NpZ25hdHVyZVBhZC5kb3RTaXplPXR9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaWduYXR1cmVQYWQuZG90U2l6ZX19LHtrZXk6XCJtaW5XaWR0aFwiLHNldDpmdW5jdGlvbih0KXt0aGlzLl9zaWduYXR1cmVQYWQubWluV2lkdGg9dH0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpZ25hdHVyZVBhZC5taW5XaWR0aH19LHtrZXk6XCJtYXhXaWR0aFwiLHNldDpmdW5jdGlvbih0KXt0aGlzLl9zaWduYXR1cmVQYWQubWF4V2lkdGg9dH0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpZ25hdHVyZVBhZC5tYXhXaWR0aH19LHtrZXk6XCJ0aHJvdHRsZVwiLHNldDpmdW5jdGlvbih0KXt0aGlzLl9zaWduYXR1cmVQYWQudGhyb3R0bGU9dH0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpZ25hdHVyZVBhZC50aHJvdHRsZX19LHtrZXk6XCJiYWNrZ3JvdW5kQ29sb3JcIixzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fc2lnbmF0dXJlUGFkLmJhY2tncm91bmRDb2xvcj10fSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2lnbmF0dXJlUGFkLmJhY2tncm91bmRDb2xvcn19LHtrZXk6XCJwZW5Db2xvclwiLHNldDpmdW5jdGlvbih0KXt0aGlzLl9zaWduYXR1cmVQYWQucGVuQ29sb3I9dH0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpZ25hdHVyZVBhZC5wZW5Db2xvcn19LHtrZXk6XCJ2ZWxvY2l0eUZpbHRlcldlaWdodFwiLHNldDpmdW5jdGlvbih0KXt0aGlzLl9zaWduYXR1cmVQYWQudmVsb2NpdHlGaWx0ZXJXZWlnaHQ9dH0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpZ25hdHVyZVBhZC52ZWxvY2l0eUZpbHRlcldlaWdodH19LHtrZXk6XCJvbkJlZ2luXCIsc2V0OmZ1bmN0aW9uKHQpe2lmKCF0fHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgcGFzc2VkIHRvIG9uQmVnaW4oKVwiKTt0aGlzLl9zaWduYXR1cmVQYWQub25CZWdpbj10fX0se2tleTpcIm9uRW5kXCIsc2V0OmZ1bmN0aW9uKHQpe2lmKCF0fHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgcGFzc2VkIHRvIG9uRW5kKClcIik7dGhpcy5fc2lnbmF0dXJlUGFkLm9uRW5kPXR9fV0pLGl9KFJlYWN0LlB1cmVDb21wb25lbnQpO1NpZ25hdHVyZVBhZCQxLmRpc3BsYXlOYW1lPVwicmVhY3Qtc2lnbmF0dXJlLXBhZC13cmFwcGVyXCIsU2lnbmF0dXJlUGFkJDEucHJvcFR5cGVzPXt3aWR0aDpQcm9wVHlwZXMubnVtYmVyLGhlaWdodDpQcm9wVHlwZXMubnVtYmVyLG9wdGlvbnM6UHJvcFR5cGVzLm9iamVjdCxyZWRyYXdPblJlc2l6ZTpQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLGRlYm91bmNlSW50ZXJ2YWw6UHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLGNhbnZhc1Byb3BzOlByb3BUeXBlcy5vYmplY3R9LFNpZ25hdHVyZVBhZCQxLmRlZmF1bHRQcm9wcz17cmVkcmF3T25SZXNpemU6ITEsZGVib3VuY2VJbnRlcnZhbDoxNTB9LG1vZHVsZS5leHBvcnRzPVNpZ25hdHVyZVBhZCQxO1xuXG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmlmIChmYWxzZSkge1xuICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiZcbiAgICBTeW1ib2wuZm9yICYmXG4gICAgU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpKSB8fFxuICAgIDB4ZWFjNztcblxuICB2YXIgaXNWYWxpZEVsZW1lbnQgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiZcbiAgICAgIG9iamVjdCAhPT0gbnVsbCAmJlxuICAgICAgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG4gIH07XG5cbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgZGV2ZWxvcG1lbnQgYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgdmFyIHRocm93T25EaXJlY3RBY2Nlc3MgPSB0cnVlO1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMnKShpc1ZhbGlkRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcyk7XG59IGVsc2Uge1xuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBwcm9kdWN0aW9uIGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KSgpO1xufVxuXG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuXG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cbmZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBzaGltKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG4gICAgaWYgKHNlY3JldCA9PT0gUmVhY3RQcm9wVHlwZXNTZWNyZXQpIHtcbiAgICAgIC8vIEl0IGlzIHN0aWxsIHNhZmUgd2hlbiBjYWxsZWQgZnJvbSBSZWFjdC5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcihcbiAgICAgICdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcbiAgICAgICdVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiAnICtcbiAgICAgICdSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJ1xuICAgICk7XG4gICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgdGhyb3cgZXJyO1xuICB9O1xuICBzaGltLmlzUmVxdWlyZWQgPSBzaGltO1xuICBmdW5jdGlvbiBnZXRTaGltKCkge1xuICAgIHJldHVybiBzaGltO1xuICB9O1xuICAvLyBJbXBvcnRhbnQhXG4gIC8vIEtlZXAgdGhpcyBsaXN0IGluIHN5bmMgd2l0aCBwcm9kdWN0aW9uIHZlcnNpb24gaW4gYC4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMuanNgLlxuICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG4gICAgYXJyYXk6IHNoaW0sXG4gICAgYm9vbDogc2hpbSxcbiAgICBmdW5jOiBzaGltLFxuICAgIG51bWJlcjogc2hpbSxcbiAgICBvYmplY3Q6IHNoaW0sXG4gICAgc3RyaW5nOiBzaGltLFxuICAgIHN5bWJvbDogc2hpbSxcblxuICAgIGFueTogc2hpbSxcbiAgICBhcnJheU9mOiBnZXRTaGltLFxuICAgIGVsZW1lbnQ6IHNoaW0sXG4gICAgaW5zdGFuY2VPZjogZ2V0U2hpbSxcbiAgICBub2RlOiBzaGltLFxuICAgIG9iamVjdE9mOiBnZXRTaGltLFxuICAgIG9uZU9mOiBnZXRTaGltLFxuICAgIG9uZU9mVHlwZTogZ2V0U2hpbSxcbiAgICBzaGFwZTogZ2V0U2hpbSxcbiAgICBleGFjdDogZ2V0U2hpbVxuICB9O1xuXG4gIFJlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gZW1wdHlGdW5jdGlvbjtcbiAgUmVhY3RQcm9wVHlwZXMuUHJvcFR5cGVzID0gUmVhY3RQcm9wVHlwZXM7XG5cbiAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cblxuXG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzU2VjcmV0O1xuXG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIFNpZ25hdHVyZUJveC5qcyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGIwNTczYzc4YTJkODk1MmFiYjFlIiwibW9kdWxlLmV4cG9ydHMgPSBSZWFjdDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcIlJlYWN0XCJcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0ICogZnJvbSAnLi9TaWduYXR1cmVCb3gnO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2luZGV4LnRzeCIsIlxyXG5kZWNsYXJlIHZhciBtYW55d2hvOiBhbnk7XHJcblxyXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbnZhciBTaWduYXR1cmVQYWQgID0gcmVxdWlyZSgncmVhY3Qtc2lnbmF0dXJlLXBhZC13cmFwcGVyJyk7XHJcbmltcG9ydCAnLi9TaWduYXR1cmVCb3guY3NzJztcclxuXHJcbmNsYXNzIFNpZ25hdHVyZUJveCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxhbnksIGFueT4gXHJcbnsgICBcclxuICAgIGNvbXBvbmVudElkOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgZmxvd0tleTogc3RyaW5nID1cIlwiOyAgICBcclxuICAgIGF0dHJpYnV0ZXMgOiBhbnkgPSB7fTtcclxuICAgIHNlbGVjdGVkSXRlbTogc3RyaW5nID0gbnVsbDtcclxuXHJcbiAgICB0ZXh0IDogc3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcyA6IGFueSlcclxuXHR7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuY29tcG9uZW50SWQgPSBwcm9wcy5pZDtcclxuICAgICAgICB0aGlzLmZsb3dLZXkgPSBwcm9wcy5mbG93S2V5O1xyXG5cclxuICAgICAgICAvL3B1c2ggYXR0cmlidXRlcyBpbnRvIGtleWVkIG1hcCBcclxuXHRcdHZhciBmbG93TW9kZWwgPSBtYW55d2hvLm1vZGVsLmdldENvbXBvbmVudCh0aGlzLnByb3BzLmlkLCAgIHRoaXMucHJvcHMuZmxvd0tleSk7XHJcblx0XHRpZihmbG93TW9kZWwuYXR0cmlidXRlcylcclxuXHRcdHtcclxuXHRcdFx0Zm9yKHZhciBrZXkgaW4gZmxvd01vZGVsLmF0dHJpYnV0ZXMpXHJcblx0XHRcdHtcclxuXHRcdFx0XHR0aGlzLmF0dHJpYnV0ZXNba2V5XSA9IGZsb3dNb2RlbC5hdHRyaWJ1dGVzW2tleV07XHJcblx0XHRcdH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICBjb21wb25lbnREaWRNb3VudCgpIFxyXG4gICAge1xyXG4gICAgICAgIHZhciBmbG93TW9kZWwgPSBtYW55d2hvLm1vZGVsLmdldENvbXBvbmVudCh0aGlzLnByb3BzLmlkLCAgIHRoaXMucHJvcHMuZmxvd0tleSk7XHJcbiAgICAgICAgY29uc3QgZmxvd1N0YXRlID0gbWFueXdoby5zdGF0ZS5nZXRDb21wb25lbnQodGhpcy5wcm9wcy5pZCwgICB0aGlzLnByb3BzLmZsb3dLZXkpO1xyXG5cclxuICAgICAgICBpZihmbG93TW9kZWwuY29udGVudFZhbHVlKVxyXG5cdFx0e1xyXG4gICAgICAgICAgICBmbG93U3RhdGUuY29udGVudFZhbHVlID0gZmxvd01vZGVsLmNvbnRlbnRWYWx1ZTtcclxuICAgICAgICAgICAgdmFyIHNpZ1BhZCA6IGFueSA9IHRoaXMucmVmcy5zaWduYXR1cmVQYWQ7XHJcbiAgICAgICAgICAgIHNpZ1BhZC5mcm9tRGF0YVVSTChmbG93TW9kZWwuY29udGVudFZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnREaWRVcGRhdGUoKVxyXG4gICAge1xyXG5cclxuICAgICAgICB2YXIgc2lnUGFkIDogYW55ID0gdGhpcy5yZWZzLnNpZ25hdHVyZVBhZDtcclxuICAgICAgICAvL3NpZ1BhZC5vbkVuZCA9IHRoaXMuc3Ryb2tlRW5kLmJpbmQodGhpcyk7IFxyXG4gICAgfVxyXG5cclxuXHRnZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSA6IHN0cmluZylcclxuXHR7XHJcblx0XHRpZih0aGlzLmF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0pXHJcblx0XHR7XHJcblx0XHRcdHJldHVybiB0aGlzLmF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV07XHJcblx0XHR9XHJcblx0XHRlbHNlXHJcblx0XHR7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcbiAgICAgICBcclxuICAgIGNsZWFyU2lnbmF0dXJlKClcclxuICAgIHtcclxuICAgICAgICB2YXIgc2lncGFkIDogYW55ID0gdGhpcy5yZWZzLnNpZ25hdHVyZVBhZDtcclxuICAgICAgICBzaWdwYWQuY2xlYXIoKTtcclxuXHJcbiAgICAgICAgdmFyIGRhdGEgOiBzdHJpbmcgPSBzaWdwYWQudG9EYXRhVVJMKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgZmxvd1N0YXRlID0gbWFueXdoby5zdGF0ZS5nZXRDb21wb25lbnQodGhpcy5wcm9wcy5pZCwgICB0aGlzLnByb3BzLmZsb3dLZXkpO1xyXG5cclxuICAgICAgICBmbG93U3RhdGUuY29udGVudFZhbHVlID0gZGF0YTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc3Ryb2tlRW5kKClcclxuICAgIHtcclxuICAgICAgICB2YXIgc2lncGFkIDogYW55ID0gdGhpcy5yZWZzLnNpZ25hdHVyZVBhZDtcclxuXHJcbiAgICAgICAgdmFyIGRhdGEgOiBzdHJpbmcgPSBzaWdwYWQudG9EYXRhVVJMKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgZmxvd1N0YXRlID0gbWFueXdoby5zdGF0ZS5nZXRDb21wb25lbnQodGhpcy5wcm9wcy5pZCwgICB0aGlzLnByb3BzLmZsb3dLZXkpO1xyXG5cclxuICAgICAgICBmbG93U3RhdGUuY29udGVudFZhbHVlID0gZGF0YTtcclxuICAgIH1cclxuXHJcblxyXG5cdHJlbmRlcigpXHJcblx0e1xyXG5cdCAgIFxyXG5cdFx0Y29uc3QgZmxvd01vZGVsID0gbWFueXdoby5tb2RlbC5nZXRDb21wb25lbnQodGhpcy5wcm9wcy5pZCwgICB0aGlzLnByb3BzLmZsb3dLZXkpO1xyXG4gICAgICAgIGNvbnN0IGZsb3dTdGF0ZSA9IG1hbnl3aG8uc3RhdGUuZ2V0Q29tcG9uZW50KHRoaXMucHJvcHMuaWQsICAgdGhpcy5wcm9wcy5mbG93S2V5KTtcclxuICAgICAgICBcclxuICAgICAgICB2YXIgb3B0aW9ucyA6IGFueSA9IHt9O1xyXG4gICAgICAgIG9wdGlvbnMud2lkdGg9XCIxMDBweFwiO1xyXG4gICAgICAgIG9wdGlvbnMuaGVpZ2h0PVwiNzBcIjtcclxuICAgICAgICBvcHRpb25zLnBlbkNvbG9yID0gXCIjMDAwMDAwXCI7XHJcbiAgICAgICAgb3B0aW9ucy5yZWRyYXdPblJlc2l6ZT0gdHJ1ZTtcclxuICAgICAgICBvcHRpb25zLm9uRW5kID0gdGhpcy5zdHJva2VFbmQuYmluZCh0aGlzKTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgLy9jcmVhdGUgYW4gYXJyYXkgb2YgU0ZLUmVzdWx0TGlzdEl0ZW0gY2xhc3NlcyBmb3IgdGhlIGRhdGFcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInNpZ25hdHVyZS1ib3hcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNpZ25hdHVyZS1ib3gtaGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tmbG9hdDonbGVmdCd9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNpZ25hdHVyZS1ib3gtaGVhZGVyLXRpdGxlXCI+U2lnbmF0dXJlIC0gcGxlYXNlIGRyYXcgeW91ciBzaWduYXR1cmUgaW4gdGhlIGFyZWEgYmVsb3c8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7ZmxvYXQ6J3JpZ2h0J319PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1yZW1vdmUgc2lnbmF0dXJlLWJveC1oZWFkZXItYnV0dG9uXCIgb25DbGljaz17dGhpcy5jbGVhclNpZ25hdHVyZS5iaW5kKHRoaXMpfT48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNpZ25hdHVyZS1ib3gtYm9keVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8U2lnbmF0dXJlUGFkIHJlZj1cInNpZ25hdHVyZVBhZFwiIHJlZHJhd09uUmVzaXplPXt0cnVlfSBvcHRpb25zPXtvcHRpb25zfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgIH1cclxufVxyXG5cclxubWFueXdoby5jb21wb25lbnQucmVnaXN0ZXIoJ1NpZ25hdHVyZUJveCcsIFNpZ25hdHVyZUJveCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTaWduYXR1cmVCb3g7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL1NpZ25hdHVyZUJveC50c3giLCIvKiFcbiAqIFNpZ25hdHVyZSBQYWQgdjIuMy4yXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3ppbWVrL3NpZ25hdHVyZV9wYWRcbiAqXG4gKiBDb3B5cmlnaHQgMjAxNyBTenltb24gTm93YWtcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICpcbiAqIFRoZSBtYWluIGlkZWEgYW5kIHNvbWUgcGFydHMgb2YgdGhlIGNvZGUgKGUuZy4gZHJhd2luZyB2YXJpYWJsZSB3aWR0aCBCw6l6aWVyIGN1cnZlKSBhcmUgdGFrZW4gZnJvbTpcbiAqIGh0dHA6Ly9jb3JuZXIuc3F1YXJldXAuY29tLzIwMTIvMDcvc21vb3RoZXItc2lnbmF0dXJlcy5odG1sXG4gKlxuICogSW1wbGVtZW50YXRpb24gb2YgaW50ZXJwb2xhdGlvbiB1c2luZyBjdWJpYyBCw6l6aWVyIGN1cnZlcyBpcyB0YWtlbiBmcm9tOlxuICogaHR0cDovL2Jlbmtub3dzY29kZS53b3JkcHJlc3MuY29tLzIwMTIvMDkvMTQvcGF0aC1pbnRlcnBvbGF0aW9uLXVzaW5nLWN1YmljLWJlemllci1hbmQtY29udHJvbC1wb2ludC1lc3RpbWF0aW9uLWluLWphdmFzY3JpcHRcbiAqXG4gKiBBbGdvcml0aG0gZm9yIGFwcHJveGltYXRlZCBsZW5ndGggb2YgYSBCw6l6aWVyIGN1cnZlIGlzIHRha2VuIGZyb206XG4gKiBodHRwOi8vd3d3LmxlbW9kYS5uZXQvbWF0aHMvYmV6aWVyLWxlbmd0aC9pbmRleC5odG1sXG4gKlxuICovXG5cbmZ1bmN0aW9uIFBvaW50KHgsIHksIHRpbWUpIHtcbiAgdGhpcy54ID0geDtcbiAgdGhpcy55ID0geTtcbiAgdGhpcy50aW1lID0gdGltZSB8fCBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbn1cblxuUG9pbnQucHJvdG90eXBlLnZlbG9jaXR5RnJvbSA9IGZ1bmN0aW9uIChzdGFydCkge1xuICByZXR1cm4gdGhpcy50aW1lICE9PSBzdGFydC50aW1lID8gdGhpcy5kaXN0YW5jZVRvKHN0YXJ0KSAvICh0aGlzLnRpbWUgLSBzdGFydC50aW1lKSA6IDE7XG59O1xuXG5Qb2ludC5wcm90b3R5cGUuZGlzdGFuY2VUbyA9IGZ1bmN0aW9uIChzdGFydCkge1xuICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHRoaXMueCAtIHN0YXJ0LngsIDIpICsgTWF0aC5wb3codGhpcy55IC0gc3RhcnQueSwgMikpO1xufTtcblxuUG9pbnQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICByZXR1cm4gdGhpcy54ID09PSBvdGhlci54ICYmIHRoaXMueSA9PT0gb3RoZXIueSAmJiB0aGlzLnRpbWUgPT09IG90aGVyLnRpbWU7XG59O1xuXG5mdW5jdGlvbiBCZXppZXIoc3RhcnRQb2ludCwgY29udHJvbDEsIGNvbnRyb2wyLCBlbmRQb2ludCkge1xuICB0aGlzLnN0YXJ0UG9pbnQgPSBzdGFydFBvaW50O1xuICB0aGlzLmNvbnRyb2wxID0gY29udHJvbDE7XG4gIHRoaXMuY29udHJvbDIgPSBjb250cm9sMjtcbiAgdGhpcy5lbmRQb2ludCA9IGVuZFBvaW50O1xufVxuXG4vLyBSZXR1cm5zIGFwcHJveGltYXRlZCBsZW5ndGguXG5CZXppZXIucHJvdG90eXBlLmxlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHN0ZXBzID0gMTA7XG4gIHZhciBsZW5ndGggPSAwO1xuICB2YXIgcHggPSB2b2lkIDA7XG4gIHZhciBweSA9IHZvaWQgMDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8PSBzdGVwczsgaSArPSAxKSB7XG4gICAgdmFyIHQgPSBpIC8gc3RlcHM7XG4gICAgdmFyIGN4ID0gdGhpcy5fcG9pbnQodCwgdGhpcy5zdGFydFBvaW50LngsIHRoaXMuY29udHJvbDEueCwgdGhpcy5jb250cm9sMi54LCB0aGlzLmVuZFBvaW50LngpO1xuICAgIHZhciBjeSA9IHRoaXMuX3BvaW50KHQsIHRoaXMuc3RhcnRQb2ludC55LCB0aGlzLmNvbnRyb2wxLnksIHRoaXMuY29udHJvbDIueSwgdGhpcy5lbmRQb2ludC55KTtcbiAgICBpZiAoaSA+IDApIHtcbiAgICAgIHZhciB4ZGlmZiA9IGN4IC0gcHg7XG4gICAgICB2YXIgeWRpZmYgPSBjeSAtIHB5O1xuICAgICAgbGVuZ3RoICs9IE1hdGguc3FydCh4ZGlmZiAqIHhkaWZmICsgeWRpZmYgKiB5ZGlmZik7XG4gICAgfVxuICAgIHB4ID0gY3g7XG4gICAgcHkgPSBjeTtcbiAgfVxuXG4gIHJldHVybiBsZW5ndGg7XG59O1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1tdWx0aS1zcGFjZXMsIHNwYWNlLWluLXBhcmVucyAqL1xuQmV6aWVyLnByb3RvdHlwZS5fcG9pbnQgPSBmdW5jdGlvbiAodCwgc3RhcnQsIGMxLCBjMiwgZW5kKSB7XG4gIHJldHVybiBzdGFydCAqICgxLjAgLSB0KSAqICgxLjAgLSB0KSAqICgxLjAgLSB0KSArIDMuMCAqIGMxICogKDEuMCAtIHQpICogKDEuMCAtIHQpICogdCArIDMuMCAqIGMyICogKDEuMCAtIHQpICogdCAqIHQgKyBlbmQgKiB0ICogdCAqIHQ7XG59O1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG4vLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNzA3ODQwMS84MTU1MDdcbmZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgdmFyIGNvbnRleHQsIGFyZ3MsIHJlc3VsdDtcbiAgdmFyIHRpbWVvdXQgPSBudWxsO1xuICB2YXIgcHJldmlvdXMgPSAwO1xuICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcbiAgdmFyIGxhdGVyID0gZnVuY3Rpb24gbGF0ZXIoKSB7XG4gICAgcHJldmlvdXMgPSBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlID8gMCA6IERhdGUubm93KCk7XG4gICAgdGltZW91dCA9IG51bGw7XG4gICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgfTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBpZiAoIXByZXZpb3VzICYmIG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UpIHByZXZpb3VzID0gbm93O1xuICAgIHZhciByZW1haW5pbmcgPSB3YWl0IC0gKG5vdyAtIHByZXZpb3VzKTtcbiAgICBjb250ZXh0ID0gdGhpcztcbiAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgIGlmIChyZW1haW5pbmcgPD0gMCB8fCByZW1haW5pbmcgPiB3YWl0KSB7XG4gICAgICBpZiAodGltZW91dCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgfVxuICAgICAgcHJldmlvdXMgPSBub3c7XG4gICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgfSBlbHNlIGlmICghdGltZW91dCAmJiBvcHRpb25zLnRyYWlsaW5nICE9PSBmYWxzZSkge1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59XG5cbmZ1bmN0aW9uIFNpZ25hdHVyZVBhZChjYW52YXMsIG9wdGlvbnMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgb3B0cyA9IG9wdGlvbnMgfHwge307XG5cbiAgdGhpcy52ZWxvY2l0eUZpbHRlcldlaWdodCA9IG9wdHMudmVsb2NpdHlGaWx0ZXJXZWlnaHQgfHwgMC43O1xuICB0aGlzLm1pbldpZHRoID0gb3B0cy5taW5XaWR0aCB8fCAwLjU7XG4gIHRoaXMubWF4V2lkdGggPSBvcHRzLm1heFdpZHRoIHx8IDIuNTtcbiAgdGhpcy50aHJvdHRsZSA9ICd0aHJvdHRsZScgaW4gb3B0cyA/IG9wdHMudGhyb3R0bGUgOiAxNjsgLy8gaW4gbWlsaXNlY29uZHNcbiAgdGhpcy5taW5EaXN0YW5jZSA9ICdtaW5EaXN0YW5jZScgaW4gb3B0cyA/IG9wdHMubWluRGlzdGFuY2UgOiA1O1xuXG4gIGlmICh0aGlzLnRocm90dGxlKSB7XG4gICAgdGhpcy5fc3Ryb2tlTW92ZVVwZGF0ZSA9IHRocm90dGxlKFNpZ25hdHVyZVBhZC5wcm90b3R5cGUuX3N0cm9rZVVwZGF0ZSwgdGhpcy50aHJvdHRsZSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fc3Ryb2tlTW92ZVVwZGF0ZSA9IFNpZ25hdHVyZVBhZC5wcm90b3R5cGUuX3N0cm9rZVVwZGF0ZTtcbiAgfVxuXG4gIHRoaXMuZG90U2l6ZSA9IG9wdHMuZG90U2l6ZSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLm1pbldpZHRoICsgdGhpcy5tYXhXaWR0aCkgLyAyO1xuICB9O1xuICB0aGlzLnBlbkNvbG9yID0gb3B0cy5wZW5Db2xvciB8fCAnYmxhY2snO1xuICB0aGlzLmJhY2tncm91bmRDb2xvciA9IG9wdHMuYmFja2dyb3VuZENvbG9yIHx8ICdyZ2JhKDAsMCwwLDApJztcbiAgdGhpcy5vbkJlZ2luID0gb3B0cy5vbkJlZ2luO1xuICB0aGlzLm9uRW5kID0gb3B0cy5vbkVuZDtcblxuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gIHRoaXMuX2N0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICB0aGlzLmNsZWFyKCk7XG5cbiAgLy8gV2UgbmVlZCBhZGQgdGhlc2UgaW5saW5lIHNvIHRoZXkgYXJlIGF2YWlsYWJsZSB0byB1bmJpbmQgd2hpbGUgc3RpbGwgaGF2aW5nXG4gIC8vIGFjY2VzcyB0byAnc2VsZicgd2UgY291bGQgdXNlIF8uYmluZCBidXQgaXQncyBub3Qgd29ydGggYWRkaW5nIGEgZGVwZW5kZW5jeS5cbiAgdGhpcy5faGFuZGxlTW91c2VEb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LndoaWNoID09PSAxKSB7XG4gICAgICBzZWxmLl9tb3VzZUJ1dHRvbkRvd24gPSB0cnVlO1xuICAgICAgc2VsZi5fc3Ryb2tlQmVnaW4oZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLl9oYW5kbGVNb3VzZU1vdmUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoc2VsZi5fbW91c2VCdXR0b25Eb3duKSB7XG4gICAgICBzZWxmLl9zdHJva2VNb3ZlVXBkYXRlKGV2ZW50KTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5faGFuZGxlTW91c2VVcCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmIChldmVudC53aGljaCA9PT0gMSAmJiBzZWxmLl9tb3VzZUJ1dHRvbkRvd24pIHtcbiAgICAgIHNlbGYuX21vdXNlQnV0dG9uRG93biA9IGZhbHNlO1xuICAgICAgc2VsZi5fc3Ryb2tlRW5kKGV2ZW50KTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5faGFuZGxlVG91Y2hTdGFydCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmIChldmVudC50YXJnZXRUb3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07XG4gICAgICBzZWxmLl9zdHJva2VCZWdpbih0b3VjaCk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuX2hhbmRsZVRvdWNoTW92ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIC8vIFByZXZlbnQgc2Nyb2xsaW5nLlxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICB2YXIgdG91Y2ggPSBldmVudC50YXJnZXRUb3VjaGVzWzBdO1xuICAgIHNlbGYuX3N0cm9rZU1vdmVVcGRhdGUodG91Y2gpO1xuICB9O1xuXG4gIHRoaXMuX2hhbmRsZVRvdWNoRW5kID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIHdhc0NhbnZhc1RvdWNoZWQgPSBldmVudC50YXJnZXQgPT09IHNlbGYuX2NhbnZhcztcbiAgICBpZiAod2FzQ2FudmFzVG91Y2hlZCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHNlbGYuX3N0cm9rZUVuZChldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEVuYWJsZSBtb3VzZSBhbmQgdG91Y2ggZXZlbnQgaGFuZGxlcnNcbiAgdGhpcy5vbigpO1xufVxuXG4vLyBQdWJsaWMgbWV0aG9kc1xuU2lnbmF0dXJlUGFkLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGN0eCA9IHRoaXMuX2N0eDtcbiAgdmFyIGNhbnZhcyA9IHRoaXMuX2NhbnZhcztcblxuICBjdHguZmlsbFN0eWxlID0gdGhpcy5iYWNrZ3JvdW5kQ29sb3I7XG4gIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgY3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG5cbiAgdGhpcy5fZGF0YSA9IFtdO1xuICB0aGlzLl9yZXNldCgpO1xuICB0aGlzLl9pc0VtcHR5ID0gdHJ1ZTtcbn07XG5cblNpZ25hdHVyZVBhZC5wcm90b3R5cGUuZnJvbURhdGFVUkwgPSBmdW5jdGlvbiAoZGF0YVVybCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgdmFyIHJhdGlvID0gb3B0aW9ucy5yYXRpbyB8fCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuICB2YXIgd2lkdGggPSBvcHRpb25zLndpZHRoIHx8IHRoaXMuX2NhbnZhcy53aWR0aCAvIHJhdGlvO1xuICB2YXIgaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgfHwgdGhpcy5fY2FudmFzLmhlaWdodCAvIHJhdGlvO1xuXG4gIHRoaXMuX3Jlc2V0KCk7XG4gIGltYWdlLnNyYyA9IGRhdGFVcmw7XG4gIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBfdGhpcy5fY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gIH07XG4gIHRoaXMuX2lzRW1wdHkgPSBmYWxzZTtcbn07XG5cblNpZ25hdHVyZVBhZC5wcm90b3R5cGUudG9EYXRhVVJMID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgdmFyIF9jYW52YXM7XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnaW1hZ2Uvc3ZnK3htbCc6XG4gICAgICByZXR1cm4gdGhpcy5fdG9TVkcoKTtcbiAgICBkZWZhdWx0OlxuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG9wdGlvbnMgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIG9wdGlvbnNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gKF9jYW52YXMgPSB0aGlzLl9jYW52YXMpLnRvRGF0YVVSTC5hcHBseShfY2FudmFzLCBbdHlwZV0uY29uY2F0KG9wdGlvbnMpKTtcbiAgfVxufTtcblxuU2lnbmF0dXJlUGFkLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5faGFuZGxlTW91c2VFdmVudHMoKTtcbiAgdGhpcy5faGFuZGxlVG91Y2hFdmVudHMoKTtcbn07XG5cblNpZ25hdHVyZVBhZC5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlTW91c2VEb3duKTtcbiAgdGhpcy5fY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZU1vdXNlTW92ZSk7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVNb3VzZVVwKTtcblxuICB0aGlzLl9jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX2hhbmRsZVRvdWNoU3RhcnQpO1xuICB0aGlzLl9jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlVG91Y2hNb3ZlKTtcbiAgdGhpcy5fY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlVG91Y2hFbmQpO1xufTtcblxuU2lnbmF0dXJlUGFkLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5faXNFbXB0eTtcbn07XG5cbi8vIFByaXZhdGUgbWV0aG9kc1xuU2lnbmF0dXJlUGFkLnByb3RvdHlwZS5fc3Ryb2tlQmVnaW4gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgdGhpcy5fZGF0YS5wdXNoKFtdKTtcbiAgdGhpcy5fcmVzZXQoKTtcbiAgdGhpcy5fc3Ryb2tlVXBkYXRlKGV2ZW50KTtcblxuICBpZiAodHlwZW9mIHRoaXMub25CZWdpbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHRoaXMub25CZWdpbihldmVudCk7XG4gIH1cbn07XG5cblNpZ25hdHVyZVBhZC5wcm90b3R5cGUuX3N0cm9rZVVwZGF0ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICB2YXIgeCA9IGV2ZW50LmNsaWVudFg7XG4gIHZhciB5ID0gZXZlbnQuY2xpZW50WTtcblxuICB2YXIgcG9pbnQgPSB0aGlzLl9jcmVhdGVQb2ludCh4LCB5KTtcbiAgdmFyIGxhc3RQb2ludEdyb3VwID0gdGhpcy5fZGF0YVt0aGlzLl9kYXRhLmxlbmd0aCAtIDFdO1xuICB2YXIgbGFzdFBvaW50ID0gbGFzdFBvaW50R3JvdXAgJiYgbGFzdFBvaW50R3JvdXBbbGFzdFBvaW50R3JvdXAubGVuZ3RoIC0gMV07XG4gIHZhciBpc0xhc3RQb2ludFRvb0Nsb3NlID0gbGFzdFBvaW50ICYmIHBvaW50LmRpc3RhbmNlVG8obGFzdFBvaW50KSA8IHRoaXMubWluRGlzdGFuY2U7XG5cbiAgLy8gU2tpcCB0aGlzIHBvaW50IGlmIGl0J3MgdG9vIGNsb3NlIHRvIHRoZSBwcmV2aW91cyBvbmVcbiAgaWYgKCEobGFzdFBvaW50ICYmIGlzTGFzdFBvaW50VG9vQ2xvc2UpKSB7XG4gICAgdmFyIF9hZGRQb2ludCA9IHRoaXMuX2FkZFBvaW50KHBvaW50KSxcbiAgICAgICAgY3VydmUgPSBfYWRkUG9pbnQuY3VydmUsXG4gICAgICAgIHdpZHRocyA9IF9hZGRQb2ludC53aWR0aHM7XG5cbiAgICBpZiAoY3VydmUgJiYgd2lkdGhzKSB7XG4gICAgICB0aGlzLl9kcmF3Q3VydmUoY3VydmUsIHdpZHRocy5zdGFydCwgd2lkdGhzLmVuZCk7XG4gICAgfVxuXG4gICAgdGhpcy5fZGF0YVt0aGlzLl9kYXRhLmxlbmd0aCAtIDFdLnB1c2goe1xuICAgICAgeDogcG9pbnQueCxcbiAgICAgIHk6IHBvaW50LnksXG4gICAgICB0aW1lOiBwb2ludC50aW1lLFxuICAgICAgY29sb3I6IHRoaXMucGVuQ29sb3JcbiAgICB9KTtcbiAgfVxufTtcblxuU2lnbmF0dXJlUGFkLnByb3RvdHlwZS5fc3Ryb2tlRW5kID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIHZhciBjYW5EcmF3Q3VydmUgPSB0aGlzLnBvaW50cy5sZW5ndGggPiAyO1xuICB2YXIgcG9pbnQgPSB0aGlzLnBvaW50c1swXTsgLy8gUG9pbnQgaW5zdGFuY2VcblxuICBpZiAoIWNhbkRyYXdDdXJ2ZSAmJiBwb2ludCkge1xuICAgIHRoaXMuX2RyYXdEb3QocG9pbnQpO1xuICB9XG5cbiAgaWYgKHBvaW50KSB7XG4gICAgdmFyIGxhc3RQb2ludEdyb3VwID0gdGhpcy5fZGF0YVt0aGlzLl9kYXRhLmxlbmd0aCAtIDFdO1xuICAgIHZhciBsYXN0UG9pbnQgPSBsYXN0UG9pbnRHcm91cFtsYXN0UG9pbnRHcm91cC5sZW5ndGggLSAxXTsgLy8gcGxhaW4gb2JqZWN0XG5cbiAgICAvLyBXaGVuIGRyYXdpbmcgYSBkb3QsIHRoZXJlJ3Mgb25seSBvbmUgcG9pbnQgaW4gYSBncm91cCwgc28gd2l0aG91dCB0aGlzIGNoZWNrXG4gICAgLy8gc3VjaCBncm91cCB3b3VsZCBlbmQgdXAgd2l0aCBleGFjdGx5IHRoZSBzYW1lIDIgcG9pbnRzLlxuICAgIGlmICghcG9pbnQuZXF1YWxzKGxhc3RQb2ludCkpIHtcbiAgICAgIGxhc3RQb2ludEdyb3VwLnB1c2goe1xuICAgICAgICB4OiBwb2ludC54LFxuICAgICAgICB5OiBwb2ludC55LFxuICAgICAgICB0aW1lOiBwb2ludC50aW1lLFxuICAgICAgICBjb2xvcjogdGhpcy5wZW5Db2xvclxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGVvZiB0aGlzLm9uRW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhpcy5vbkVuZChldmVudCk7XG4gIH1cbn07XG5cblNpZ25hdHVyZVBhZC5wcm90b3R5cGUuX2hhbmRsZU1vdXNlRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9tb3VzZUJ1dHRvbkRvd24gPSBmYWxzZTtcblxuICB0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlTW91c2VEb3duKTtcbiAgdGhpcy5fY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZU1vdXNlTW92ZSk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVNb3VzZVVwKTtcbn07XG5cblNpZ25hdHVyZVBhZC5wcm90b3R5cGUuX2hhbmRsZVRvdWNoRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAvLyBQYXNzIHRvdWNoIGV2ZW50cyB0byBjYW52YXMgZWxlbWVudCBvbiBtb2JpbGUgSUUxMSBhbmQgRWRnZS5cbiAgdGhpcy5fY2FudmFzLnN0eWxlLm1zVG91Y2hBY3Rpb24gPSAnbm9uZSc7XG4gIHRoaXMuX2NhbnZhcy5zdHlsZS50b3VjaEFjdGlvbiA9ICdub25lJztcblxuICB0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuX2hhbmRsZVRvdWNoU3RhcnQpO1xuICB0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlVG91Y2hNb3ZlKTtcbiAgdGhpcy5fY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlVG91Y2hFbmQpO1xufTtcblxuU2lnbmF0dXJlUGFkLnByb3RvdHlwZS5fcmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMucG9pbnRzID0gW107XG4gIHRoaXMuX2xhc3RWZWxvY2l0eSA9IDA7XG4gIHRoaXMuX2xhc3RXaWR0aCA9ICh0aGlzLm1pbldpZHRoICsgdGhpcy5tYXhXaWR0aCkgLyAyO1xuICB0aGlzLl9jdHguZmlsbFN0eWxlID0gdGhpcy5wZW5Db2xvcjtcbn07XG5cblNpZ25hdHVyZVBhZC5wcm90b3R5cGUuX2NyZWF0ZVBvaW50ID0gZnVuY3Rpb24gKHgsIHksIHRpbWUpIHtcbiAgdmFyIHJlY3QgPSB0aGlzLl9jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgcmV0dXJuIG5ldyBQb2ludCh4IC0gcmVjdC5sZWZ0LCB5IC0gcmVjdC50b3AsIHRpbWUgfHwgbmV3IERhdGUoKS5nZXRUaW1lKCkpO1xufTtcblxuU2lnbmF0dXJlUGFkLnByb3RvdHlwZS5fYWRkUG9pbnQgPSBmdW5jdGlvbiAocG9pbnQpIHtcbiAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICB2YXIgdG1wID0gdm9pZCAwO1xuXG4gIHBvaW50cy5wdXNoKHBvaW50KTtcblxuICBpZiAocG9pbnRzLmxlbmd0aCA+IDIpIHtcbiAgICAvLyBUbyByZWR1Y2UgdGhlIGluaXRpYWwgbGFnIG1ha2UgaXQgd29yayB3aXRoIDMgcG9pbnRzXG4gICAgLy8gYnkgY29weWluZyB0aGUgZmlyc3QgcG9pbnQgdG8gdGhlIGJlZ2lubmluZy5cbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMykgcG9pbnRzLnVuc2hpZnQocG9pbnRzWzBdKTtcblxuICAgIHRtcCA9IHRoaXMuX2NhbGN1bGF0ZUN1cnZlQ29udHJvbFBvaW50cyhwb2ludHNbMF0sIHBvaW50c1sxXSwgcG9pbnRzWzJdKTtcbiAgICB2YXIgYzIgPSB0bXAuYzI7XG4gICAgdG1wID0gdGhpcy5fY2FsY3VsYXRlQ3VydmVDb250cm9sUG9pbnRzKHBvaW50c1sxXSwgcG9pbnRzWzJdLCBwb2ludHNbM10pO1xuICAgIHZhciBjMyA9IHRtcC5jMTtcbiAgICB2YXIgY3VydmUgPSBuZXcgQmV6aWVyKHBvaW50c1sxXSwgYzIsIGMzLCBwb2ludHNbMl0pO1xuICAgIHZhciB3aWR0aHMgPSB0aGlzLl9jYWxjdWxhdGVDdXJ2ZVdpZHRocyhjdXJ2ZSk7XG5cbiAgICAvLyBSZW1vdmUgdGhlIGZpcnN0IGVsZW1lbnQgZnJvbSB0aGUgbGlzdCxcbiAgICAvLyBzbyB0aGF0IHdlIGFsd2F5cyBoYXZlIG5vIG1vcmUgdGhhbiA0IHBvaW50cyBpbiBwb2ludHMgYXJyYXkuXG4gICAgcG9pbnRzLnNoaWZ0KCk7XG5cbiAgICByZXR1cm4geyBjdXJ2ZTogY3VydmUsIHdpZHRoczogd2lkdGhzIH07XG4gIH1cblxuICByZXR1cm4ge307XG59O1xuXG5TaWduYXR1cmVQYWQucHJvdG90eXBlLl9jYWxjdWxhdGVDdXJ2ZUNvbnRyb2xQb2ludHMgPSBmdW5jdGlvbiAoczEsIHMyLCBzMykge1xuICB2YXIgZHgxID0gczEueCAtIHMyLng7XG4gIHZhciBkeTEgPSBzMS55IC0gczIueTtcbiAgdmFyIGR4MiA9IHMyLnggLSBzMy54O1xuICB2YXIgZHkyID0gczIueSAtIHMzLnk7XG5cbiAgdmFyIG0xID0geyB4OiAoczEueCArIHMyLngpIC8gMi4wLCB5OiAoczEueSArIHMyLnkpIC8gMi4wIH07XG4gIHZhciBtMiA9IHsgeDogKHMyLnggKyBzMy54KSAvIDIuMCwgeTogKHMyLnkgKyBzMy55KSAvIDIuMCB9O1xuXG4gIHZhciBsMSA9IE1hdGguc3FydChkeDEgKiBkeDEgKyBkeTEgKiBkeTEpO1xuICB2YXIgbDIgPSBNYXRoLnNxcnQoZHgyICogZHgyICsgZHkyICogZHkyKTtcblxuICB2YXIgZHhtID0gbTEueCAtIG0yLng7XG4gIHZhciBkeW0gPSBtMS55IC0gbTIueTtcblxuICB2YXIgayA9IGwyIC8gKGwxICsgbDIpO1xuICB2YXIgY20gPSB7IHg6IG0yLnggKyBkeG0gKiBrLCB5OiBtMi55ICsgZHltICogayB9O1xuXG4gIHZhciB0eCA9IHMyLnggLSBjbS54O1xuICB2YXIgdHkgPSBzMi55IC0gY20ueTtcblxuICByZXR1cm4ge1xuICAgIGMxOiBuZXcgUG9pbnQobTEueCArIHR4LCBtMS55ICsgdHkpLFxuICAgIGMyOiBuZXcgUG9pbnQobTIueCArIHR4LCBtMi55ICsgdHkpXG4gIH07XG59O1xuXG5TaWduYXR1cmVQYWQucHJvdG90eXBlLl9jYWxjdWxhdGVDdXJ2ZVdpZHRocyA9IGZ1bmN0aW9uIChjdXJ2ZSkge1xuICB2YXIgc3RhcnRQb2ludCA9IGN1cnZlLnN0YXJ0UG9pbnQ7XG4gIHZhciBlbmRQb2ludCA9IGN1cnZlLmVuZFBvaW50O1xuICB2YXIgd2lkdGhzID0geyBzdGFydDogbnVsbCwgZW5kOiBudWxsIH07XG5cbiAgdmFyIHZlbG9jaXR5ID0gdGhpcy52ZWxvY2l0eUZpbHRlcldlaWdodCAqIGVuZFBvaW50LnZlbG9jaXR5RnJvbShzdGFydFBvaW50KSArICgxIC0gdGhpcy52ZWxvY2l0eUZpbHRlcldlaWdodCkgKiB0aGlzLl9sYXN0VmVsb2NpdHk7XG5cbiAgdmFyIG5ld1dpZHRoID0gdGhpcy5fc3Ryb2tlV2lkdGgodmVsb2NpdHkpO1xuXG4gIHdpZHRocy5zdGFydCA9IHRoaXMuX2xhc3RXaWR0aDtcbiAgd2lkdGhzLmVuZCA9IG5ld1dpZHRoO1xuXG4gIHRoaXMuX2xhc3RWZWxvY2l0eSA9IHZlbG9jaXR5O1xuICB0aGlzLl9sYXN0V2lkdGggPSBuZXdXaWR0aDtcblxuICByZXR1cm4gd2lkdGhzO1xufTtcblxuU2lnbmF0dXJlUGFkLnByb3RvdHlwZS5fc3Ryb2tlV2lkdGggPSBmdW5jdGlvbiAodmVsb2NpdHkpIHtcbiAgcmV0dXJuIE1hdGgubWF4KHRoaXMubWF4V2lkdGggLyAodmVsb2NpdHkgKyAxKSwgdGhpcy5taW5XaWR0aCk7XG59O1xuXG5TaWduYXR1cmVQYWQucHJvdG90eXBlLl9kcmF3UG9pbnQgPSBmdW5jdGlvbiAoeCwgeSwgc2l6ZSkge1xuICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuXG4gIGN0eC5tb3ZlVG8oeCwgeSk7XG4gIGN0eC5hcmMoeCwgeSwgc2l6ZSwgMCwgMiAqIE1hdGguUEksIGZhbHNlKTtcbiAgdGhpcy5faXNFbXB0eSA9IGZhbHNlO1xufTtcblxuU2lnbmF0dXJlUGFkLnByb3RvdHlwZS5fZHJhd0N1cnZlID0gZnVuY3Rpb24gKGN1cnZlLCBzdGFydFdpZHRoLCBlbmRXaWR0aCkge1xuICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICB2YXIgd2lkdGhEZWx0YSA9IGVuZFdpZHRoIC0gc3RhcnRXaWR0aDtcbiAgdmFyIGRyYXdTdGVwcyA9IE1hdGguZmxvb3IoY3VydmUubGVuZ3RoKCkpO1xuXG4gIGN0eC5iZWdpblBhdGgoKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGRyYXdTdGVwczsgaSArPSAxKSB7XG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBCZXppZXIgKHgsIHkpIGNvb3JkaW5hdGUgZm9yIHRoaXMgc3RlcC5cbiAgICB2YXIgdCA9IGkgLyBkcmF3U3RlcHM7XG4gICAgdmFyIHR0ID0gdCAqIHQ7XG4gICAgdmFyIHR0dCA9IHR0ICogdDtcbiAgICB2YXIgdSA9IDEgLSB0O1xuICAgIHZhciB1dSA9IHUgKiB1O1xuICAgIHZhciB1dXUgPSB1dSAqIHU7XG5cbiAgICB2YXIgeCA9IHV1dSAqIGN1cnZlLnN0YXJ0UG9pbnQueDtcbiAgICB4ICs9IDMgKiB1dSAqIHQgKiBjdXJ2ZS5jb250cm9sMS54O1xuICAgIHggKz0gMyAqIHUgKiB0dCAqIGN1cnZlLmNvbnRyb2wyLng7XG4gICAgeCArPSB0dHQgKiBjdXJ2ZS5lbmRQb2ludC54O1xuXG4gICAgdmFyIHkgPSB1dXUgKiBjdXJ2ZS5zdGFydFBvaW50Lnk7XG4gICAgeSArPSAzICogdXUgKiB0ICogY3VydmUuY29udHJvbDEueTtcbiAgICB5ICs9IDMgKiB1ICogdHQgKiBjdXJ2ZS5jb250cm9sMi55O1xuICAgIHkgKz0gdHR0ICogY3VydmUuZW5kUG9pbnQueTtcblxuICAgIHZhciB3aWR0aCA9IHN0YXJ0V2lkdGggKyB0dHQgKiB3aWR0aERlbHRhO1xuICAgIHRoaXMuX2RyYXdQb2ludCh4LCB5LCB3aWR0aCk7XG4gIH1cblxuICBjdHguY2xvc2VQYXRoKCk7XG4gIGN0eC5maWxsKCk7XG59O1xuXG5TaWduYXR1cmVQYWQucHJvdG90eXBlLl9kcmF3RG90ID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gIHZhciBjdHggPSB0aGlzLl9jdHg7XG4gIHZhciB3aWR0aCA9IHR5cGVvZiB0aGlzLmRvdFNpemUgPT09ICdmdW5jdGlvbicgPyB0aGlzLmRvdFNpemUoKSA6IHRoaXMuZG90U2l6ZTtcblxuICBjdHguYmVnaW5QYXRoKCk7XG4gIHRoaXMuX2RyYXdQb2ludChwb2ludC54LCBwb2ludC55LCB3aWR0aCk7XG4gIGN0eC5jbG9zZVBhdGgoKTtcbiAgY3R4LmZpbGwoKTtcbn07XG5cblNpZ25hdHVyZVBhZC5wcm90b3R5cGUuX2Zyb21EYXRhID0gZnVuY3Rpb24gKHBvaW50R3JvdXBzLCBkcmF3Q3VydmUsIGRyYXdEb3QpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludEdyb3Vwcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHZhciBncm91cCA9IHBvaW50R3JvdXBzW2ldO1xuXG4gICAgaWYgKGdyb3VwLmxlbmd0aCA+IDEpIHtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ3JvdXAubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgdmFyIHJhd1BvaW50ID0gZ3JvdXBbal07XG4gICAgICAgIHZhciBwb2ludCA9IG5ldyBQb2ludChyYXdQb2ludC54LCByYXdQb2ludC55LCByYXdQb2ludC50aW1lKTtcbiAgICAgICAgdmFyIGNvbG9yID0gcmF3UG9pbnQuY29sb3I7XG5cbiAgICAgICAgaWYgKGogPT09IDApIHtcbiAgICAgICAgICAvLyBGaXJzdCBwb2ludCBpbiBhIGdyb3VwLiBOb3RoaW5nIHRvIGRyYXcgeWV0LlxuXG4gICAgICAgICAgLy8gQWxsIHBvaW50cyBpbiB0aGUgZ3JvdXAgaGF2ZSB0aGUgc2FtZSBjb2xvciwgc28gaXQncyBlbm91Z2ggdG8gc2V0XG4gICAgICAgICAgLy8gcGVuQ29sb3IganVzdCBhdCB0aGUgYmVnaW5uaW5nLlxuICAgICAgICAgIHRoaXMucGVuQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgICB0aGlzLl9yZXNldCgpO1xuXG4gICAgICAgICAgdGhpcy5fYWRkUG9pbnQocG9pbnQpO1xuICAgICAgICB9IGVsc2UgaWYgKGogIT09IGdyb3VwLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAvLyBNaWRkbGUgcG9pbnQgaW4gYSBncm91cC5cbiAgICAgICAgICB2YXIgX2FkZFBvaW50MiA9IHRoaXMuX2FkZFBvaW50KHBvaW50KSxcbiAgICAgICAgICAgICAgY3VydmUgPSBfYWRkUG9pbnQyLmN1cnZlLFxuICAgICAgICAgICAgICB3aWR0aHMgPSBfYWRkUG9pbnQyLndpZHRocztcblxuICAgICAgICAgIGlmIChjdXJ2ZSAmJiB3aWR0aHMpIHtcbiAgICAgICAgICAgIGRyYXdDdXJ2ZShjdXJ2ZSwgd2lkdGhzLCBjb2xvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIExhc3QgcG9pbnQgaW4gYSBncm91cC4gRG8gbm90aGluZy5cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9yZXNldCgpO1xuICAgICAgdmFyIF9yYXdQb2ludCA9IGdyb3VwWzBdO1xuICAgICAgZHJhd0RvdChfcmF3UG9pbnQpO1xuICAgIH1cbiAgfVxufTtcblxuU2lnbmF0dXJlUGFkLnByb3RvdHlwZS5fdG9TVkcgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gIHZhciBwb2ludEdyb3VwcyA9IHRoaXMuX2RhdGE7XG4gIHZhciBjYW52YXMgPSB0aGlzLl9jYW52YXM7XG4gIHZhciByYXRpbyA9IE1hdGgubWF4KHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEsIDEpO1xuICB2YXIgbWluWCA9IDA7XG4gIHZhciBtaW5ZID0gMDtcbiAgdmFyIG1heFggPSBjYW52YXMud2lkdGggLyByYXRpbztcbiAgdmFyIG1heFkgPSBjYW52YXMuaGVpZ2h0IC8gcmF0aW87XG4gIHZhciBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpO1xuXG4gIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnd2lkdGgnLCBjYW52YXMud2lkdGgpO1xuICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2hlaWdodCcsIGNhbnZhcy5oZWlnaHQpO1xuXG4gIHRoaXMuX2Zyb21EYXRhKHBvaW50R3JvdXBzLCBmdW5jdGlvbiAoY3VydmUsIHdpZHRocywgY29sb3IpIHtcbiAgICB2YXIgcGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3BhdGgnKTtcblxuICAgIC8vIE5lZWQgdG8gY2hlY2sgY3VydmUgZm9yIE5hTiB2YWx1ZXMsIHRoZXNlIHBvcCB1cCB3aGVuIGRyYXdpbmdcbiAgICAvLyBsaW5lcyBvbiB0aGUgY2FudmFzIHRoYXQgYXJlIG5vdCBjb250aW51b3VzLiBFLmcuIFNoYXJwIGNvcm5lcnNcbiAgICAvLyBvciBzdG9wcGluZyBtaWQtc3Ryb2tlIGFuZCB0aGFuIGNvbnRpbnVpbmcgd2l0aG91dCBsaWZ0aW5nIG1vdXNlLlxuICAgIGlmICghaXNOYU4oY3VydmUuY29udHJvbDEueCkgJiYgIWlzTmFOKGN1cnZlLmNvbnRyb2wxLnkpICYmICFpc05hTihjdXJ2ZS5jb250cm9sMi54KSAmJiAhaXNOYU4oY3VydmUuY29udHJvbDIueSkpIHtcbiAgICAgIHZhciBhdHRyID0gJ00gJyArIGN1cnZlLnN0YXJ0UG9pbnQueC50b0ZpeGVkKDMpICsgJywnICsgY3VydmUuc3RhcnRQb2ludC55LnRvRml4ZWQoMykgKyAnICcgKyAoJ0MgJyArIGN1cnZlLmNvbnRyb2wxLngudG9GaXhlZCgzKSArICcsJyArIGN1cnZlLmNvbnRyb2wxLnkudG9GaXhlZCgzKSArICcgJykgKyAoY3VydmUuY29udHJvbDIueC50b0ZpeGVkKDMpICsgJywnICsgY3VydmUuY29udHJvbDIueS50b0ZpeGVkKDMpICsgJyAnKSArIChjdXJ2ZS5lbmRQb2ludC54LnRvRml4ZWQoMykgKyAnLCcgKyBjdXJ2ZS5lbmRQb2ludC55LnRvRml4ZWQoMykpO1xuXG4gICAgICBwYXRoLnNldEF0dHJpYnV0ZSgnZCcsIGF0dHIpO1xuICAgICAgcGF0aC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICh3aWR0aHMuZW5kICogMi4yNSkudG9GaXhlZCgzKSk7XG4gICAgICBwYXRoLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgY29sb3IpO1xuICAgICAgcGF0aC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnbm9uZScpO1xuICAgICAgcGF0aC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS1saW5lY2FwJywgJ3JvdW5kJyk7XG5cbiAgICAgIHN2Zy5hcHBlbmRDaGlsZChwYXRoKTtcbiAgICB9XG4gIH0sIGZ1bmN0aW9uIChyYXdQb2ludCkge1xuICAgIHZhciBjaXJjbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjaXJjbGUnKTtcbiAgICB2YXIgZG90U2l6ZSA9IHR5cGVvZiBfdGhpczIuZG90U2l6ZSA9PT0gJ2Z1bmN0aW9uJyA/IF90aGlzMi5kb3RTaXplKCkgOiBfdGhpczIuZG90U2l6ZTtcbiAgICBjaXJjbGUuc2V0QXR0cmlidXRlKCdyJywgZG90U2l6ZSk7XG4gICAgY2lyY2xlLnNldEF0dHJpYnV0ZSgnY3gnLCByYXdQb2ludC54KTtcbiAgICBjaXJjbGUuc2V0QXR0cmlidXRlKCdjeScsIHJhd1BvaW50LnkpO1xuICAgIGNpcmNsZS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCByYXdQb2ludC5jb2xvcik7XG5cbiAgICBzdmcuYXBwZW5kQ2hpbGQoY2lyY2xlKTtcbiAgfSk7XG5cbiAgdmFyIHByZWZpeCA9ICdkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LCc7XG4gIHZhciBoZWFkZXIgPSAnPHN2ZycgKyAnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIicgKyAnIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiJyArICgnIHZpZXdCb3g9XCInICsgbWluWCArICcgJyArIG1pblkgKyAnICcgKyBtYXhYICsgJyAnICsgbWF4WSArICdcIicpICsgKCcgd2lkdGg9XCInICsgbWF4WCArICdcIicpICsgKCcgaGVpZ2h0PVwiJyArIG1heFkgKyAnXCInKSArICc+JztcbiAgdmFyIGJvZHkgPSBzdmcuaW5uZXJIVE1MO1xuXG4gIC8vIElFIGhhY2sgZm9yIG1pc3NpbmcgaW5uZXJIVE1MIHByb3BlcnR5IG9uIFNWR0VsZW1lbnRcbiAgaWYgKGJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBkdW1teSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2R1bW15Jyk7XG4gICAgdmFyIG5vZGVzID0gc3ZnLmNoaWxkTm9kZXM7XG4gICAgZHVtbXkuaW5uZXJIVE1MID0gJyc7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBkdW1teS5hcHBlbmRDaGlsZChub2Rlc1tpXS5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgIH1cblxuICAgIGJvZHkgPSBkdW1teS5pbm5lckhUTUw7XG4gIH1cblxuICB2YXIgZm9vdGVyID0gJzwvc3ZnPic7XG4gIHZhciBkYXRhID0gaGVhZGVyICsgYm9keSArIGZvb3RlcjtcblxuICByZXR1cm4gcHJlZml4ICsgYnRvYShkYXRhKTtcbn07XG5cblNpZ25hdHVyZVBhZC5wcm90b3R5cGUuZnJvbURhdGEgPSBmdW5jdGlvbiAocG9pbnRHcm91cHMpIHtcbiAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgdGhpcy5jbGVhcigpO1xuXG4gIHRoaXMuX2Zyb21EYXRhKHBvaW50R3JvdXBzLCBmdW5jdGlvbiAoY3VydmUsIHdpZHRocykge1xuICAgIHJldHVybiBfdGhpczMuX2RyYXdDdXJ2ZShjdXJ2ZSwgd2lkdGhzLnN0YXJ0LCB3aWR0aHMuZW5kKTtcbiAgfSwgZnVuY3Rpb24gKHJhd1BvaW50KSB7XG4gICAgcmV0dXJuIF90aGlzMy5fZHJhd0RvdChyYXdQb2ludCk7XG4gIH0pO1xuXG4gIHRoaXMuX2RhdGEgPSBwb2ludEdyb3Vwcztcbn07XG5cblNpZ25hdHVyZVBhZC5wcm90b3R5cGUudG9EYXRhID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5fZGF0YTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNpZ25hdHVyZVBhZDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuLi9ub2RlX21vZHVsZXMvc2lnbmF0dXJlX3BhZC9kaXN0L3NpZ25hdHVyZV9wYWQubWpzIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWZpbmVkLG5vLXBhcmFtLXJlYXNzaWduLG5vLXNoYWRvdyAqL1xuXG4vKipcbiAqIFRocm90dGxlIGV4ZWN1dGlvbiBvZiBhIGZ1bmN0aW9uLiBFc3BlY2lhbGx5IHVzZWZ1bCBmb3IgcmF0ZSBsaW1pdGluZ1xuICogZXhlY3V0aW9uIG9mIGhhbmRsZXJzIG9uIGV2ZW50cyBsaWtlIHJlc2l6ZSBhbmQgc2Nyb2xsLlxuICpcbiAqIEBwYXJhbSAge051bWJlcn0gICAgZGVsYXkgICAgICAgICAgQSB6ZXJvLW9yLWdyZWF0ZXIgZGVsYXkgaW4gbWlsbGlzZWNvbmRzLiBGb3IgZXZlbnQgY2FsbGJhY2tzLCB2YWx1ZXMgYXJvdW5kIDEwMCBvciAyNTAgKG9yIGV2ZW4gaGlnaGVyKSBhcmUgbW9zdCB1c2VmdWwuXG4gKiBAcGFyYW0gIHtCb29sZWFufSAgIFtub1RyYWlsaW5nXSAgIE9wdGlvbmFsLCBkZWZhdWx0cyB0byBmYWxzZS4gSWYgbm9UcmFpbGluZyBpcyB0cnVlLCBjYWxsYmFjayB3aWxsIG9ubHkgZXhlY3V0ZSBldmVyeSBgZGVsYXlgIG1pbGxpc2Vjb25kcyB3aGlsZSB0aGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3R0bGVkLWZ1bmN0aW9uIGlzIGJlaW5nIGNhbGxlZC4gSWYgbm9UcmFpbGluZyBpcyBmYWxzZSBvciB1bnNwZWNpZmllZCwgY2FsbGJhY2sgd2lsbCBiZSBleGVjdXRlZCBvbmUgZmluYWwgdGltZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZnRlciB0aGUgbGFzdCB0aHJvdHRsZWQtZnVuY3Rpb24gY2FsbC4gKEFmdGVyIHRoZSB0aHJvdHRsZWQtZnVuY3Rpb24gaGFzIG5vdCBiZWVuIGNhbGxlZCBmb3IgYGRlbGF5YCBtaWxsaXNlY29uZHMsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBpbnRlcm5hbCBjb3VudGVyIGlzIHJlc2V0KVxuICogQHBhcmFtICB7RnVuY3Rpb259ICBjYWxsYmFjayAgICAgICBBIGZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkIGFmdGVyIGRlbGF5IG1pbGxpc2Vjb25kcy4gVGhlIGB0aGlzYCBjb250ZXh0IGFuZCBhbGwgYXJndW1lbnRzIGFyZSBwYXNzZWQgdGhyb3VnaCwgYXMtaXMsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvIGBjYWxsYmFja2Agd2hlbiB0aGUgdGhyb3R0bGVkLWZ1bmN0aW9uIGlzIGV4ZWN1dGVkLlxuICogQHBhcmFtICB7Qm9vbGVhbn0gICBbZGVib3VuY2VNb2RlXSBJZiBgZGVib3VuY2VNb2RlYCBpcyB0cnVlIChhdCBiZWdpbiksIHNjaGVkdWxlIGBjbGVhcmAgdG8gZXhlY3V0ZSBhZnRlciBgZGVsYXlgIG1zLiBJZiBgZGVib3VuY2VNb2RlYCBpcyBmYWxzZSAoYXQgZW5kKSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGUgYGNhbGxiYWNrYCB0byBleGVjdXRlIGFmdGVyIGBkZWxheWAgbXMuXG4gKlxuICogQHJldHVybiB7RnVuY3Rpb259ICBBIG5ldywgdGhyb3R0bGVkLCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gdGhyb3R0bGUgKCBkZWxheSwgbm9UcmFpbGluZywgY2FsbGJhY2ssIGRlYm91bmNlTW9kZSApIHtcblxuXHQvKlxuXHQgKiBBZnRlciB3cmFwcGVyIGhhcyBzdG9wcGVkIGJlaW5nIGNhbGxlZCwgdGhpcyB0aW1lb3V0IGVuc3VyZXMgdGhhdFxuXHQgKiBgY2FsbGJhY2tgIGlzIGV4ZWN1dGVkIGF0IHRoZSBwcm9wZXIgdGltZXMgaW4gYHRocm90dGxlYCBhbmQgYGVuZGBcblx0ICogZGVib3VuY2UgbW9kZXMuXG5cdCAqL1xuXHR2YXIgdGltZW91dElEO1xuXG5cdC8vIEtlZXAgdHJhY2sgb2YgdGhlIGxhc3QgdGltZSBgY2FsbGJhY2tgIHdhcyBleGVjdXRlZC5cblx0dmFyIGxhc3RFeGVjID0gMDtcblxuXHQvLyBgbm9UcmFpbGluZ2AgZGVmYXVsdHMgdG8gZmFsc3kuXG5cdGlmICggdHlwZW9mIG5vVHJhaWxpbmcgIT09ICdib29sZWFuJyApIHtcblx0XHRkZWJvdW5jZU1vZGUgPSBjYWxsYmFjaztcblx0XHRjYWxsYmFjayA9IG5vVHJhaWxpbmc7XG5cdFx0bm9UcmFpbGluZyA9IHVuZGVmaW5lZDtcblx0fVxuXG5cdC8qXG5cdCAqIFRoZSBgd3JhcHBlcmAgZnVuY3Rpb24gZW5jYXBzdWxhdGVzIGFsbCBvZiB0aGUgdGhyb3R0bGluZyAvIGRlYm91bmNpbmdcblx0ICogZnVuY3Rpb25hbGl0eSBhbmQgd2hlbiBleGVjdXRlZCB3aWxsIGxpbWl0IHRoZSByYXRlIGF0IHdoaWNoIGBjYWxsYmFja2Bcblx0ICogaXMgZXhlY3V0ZWQuXG5cdCAqL1xuXHRmdW5jdGlvbiB3cmFwcGVyICgpIHtcblxuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XHR2YXIgZWxhcHNlZCA9IE51bWJlcihuZXcgRGF0ZSgpKSAtIGxhc3RFeGVjO1xuXHRcdHZhciBhcmdzID0gYXJndW1lbnRzO1xuXG5cdFx0Ly8gRXhlY3V0ZSBgY2FsbGJhY2tgIGFuZCB1cGRhdGUgdGhlIGBsYXN0RXhlY2AgdGltZXN0YW1wLlxuXHRcdGZ1bmN0aW9uIGV4ZWMgKCkge1xuXHRcdFx0bGFzdEV4ZWMgPSBOdW1iZXIobmV3IERhdGUoKSk7XG5cdFx0XHRjYWxsYmFjay5hcHBseShzZWxmLCBhcmdzKTtcblx0XHR9XG5cblx0XHQvKlxuXHRcdCAqIElmIGBkZWJvdW5jZU1vZGVgIGlzIHRydWUgKGF0IGJlZ2luKSB0aGlzIGlzIHVzZWQgdG8gY2xlYXIgdGhlIGZsYWdcblx0XHQgKiB0byBhbGxvdyBmdXR1cmUgYGNhbGxiYWNrYCBleGVjdXRpb25zLlxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIGNsZWFyICgpIHtcblx0XHRcdHRpbWVvdXRJRCA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHRpZiAoIGRlYm91bmNlTW9kZSAmJiAhdGltZW91dElEICkge1xuXHRcdFx0Lypcblx0XHRcdCAqIFNpbmNlIGB3cmFwcGVyYCBpcyBiZWluZyBjYWxsZWQgZm9yIHRoZSBmaXJzdCB0aW1lIGFuZFxuXHRcdFx0ICogYGRlYm91bmNlTW9kZWAgaXMgdHJ1ZSAoYXQgYmVnaW4pLCBleGVjdXRlIGBjYWxsYmFja2AuXG5cdFx0XHQgKi9cblx0XHRcdGV4ZWMoKTtcblx0XHR9XG5cblx0XHQvLyBDbGVhciBhbnkgZXhpc3RpbmcgdGltZW91dC5cblx0XHRpZiAoIHRpbWVvdXRJRCApIHtcblx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SUQpO1xuXHRcdH1cblxuXHRcdGlmICggZGVib3VuY2VNb2RlID09PSB1bmRlZmluZWQgJiYgZWxhcHNlZCA+IGRlbGF5ICkge1xuXHRcdFx0Lypcblx0XHRcdCAqIEluIHRocm90dGxlIG1vZGUsIGlmIGBkZWxheWAgdGltZSBoYXMgYmVlbiBleGNlZWRlZCwgZXhlY3V0ZVxuXHRcdFx0ICogYGNhbGxiYWNrYC5cblx0XHRcdCAqL1xuXHRcdFx0ZXhlYygpO1xuXG5cdFx0fSBlbHNlIGlmICggbm9UcmFpbGluZyAhPT0gdHJ1ZSApIHtcblx0XHRcdC8qXG5cdFx0XHQgKiBJbiB0cmFpbGluZyB0aHJvdHRsZSBtb2RlLCBzaW5jZSBgZGVsYXlgIHRpbWUgaGFzIG5vdCBiZWVuXG5cdFx0XHQgKiBleGNlZWRlZCwgc2NoZWR1bGUgYGNhbGxiYWNrYCB0byBleGVjdXRlIGBkZWxheWAgbXMgYWZ0ZXIgbW9zdFxuXHRcdFx0ICogcmVjZW50IGV4ZWN1dGlvbi5cblx0XHRcdCAqXG5cdFx0XHQgKiBJZiBgZGVib3VuY2VNb2RlYCBpcyB0cnVlIChhdCBiZWdpbiksIHNjaGVkdWxlIGBjbGVhcmAgdG8gZXhlY3V0ZVxuXHRcdFx0ICogYWZ0ZXIgYGRlbGF5YCBtcy5cblx0XHRcdCAqXG5cdFx0XHQgKiBJZiBgZGVib3VuY2VNb2RlYCBpcyBmYWxzZSAoYXQgZW5kKSwgc2NoZWR1bGUgYGNhbGxiYWNrYCB0b1xuXHRcdFx0ICogZXhlY3V0ZSBhZnRlciBgZGVsYXlgIG1zLlxuXHRcdFx0ICovXG5cdFx0XHR0aW1lb3V0SUQgPSBzZXRUaW1lb3V0KGRlYm91bmNlTW9kZSA/IGNsZWFyIDogZXhlYywgZGVib3VuY2VNb2RlID09PSB1bmRlZmluZWQgPyBkZWxheSAtIGVsYXBzZWQgOiBkZWxheSk7XG5cdFx0fVxuXG5cdH1cblxuXHQvLyBSZXR1cm4gdGhlIHdyYXBwZXIgZnVuY3Rpb24uXG5cdHJldHVybiB3cmFwcGVyO1xuXG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmaW5lZCAqL1xuXG4vKipcbiAqIERlYm91bmNlIGV4ZWN1dGlvbiBvZiBhIGZ1bmN0aW9uLiBEZWJvdW5jaW5nLCB1bmxpa2UgdGhyb3R0bGluZyxcbiAqIGd1YXJhbnRlZXMgdGhhdCBhIGZ1bmN0aW9uIGlzIG9ubHkgZXhlY3V0ZWQgYSBzaW5nbGUgdGltZSwgZWl0aGVyIGF0IHRoZVxuICogdmVyeSBiZWdpbm5pbmcgb2YgYSBzZXJpZXMgb2YgY2FsbHMsIG9yIGF0IHRoZSB2ZXJ5IGVuZC5cbiAqXG4gKiBAcGFyYW0gIHtOdW1iZXJ9ICAgZGVsYXkgICAgICAgICBBIHplcm8tb3ItZ3JlYXRlciBkZWxheSBpbiBtaWxsaXNlY29uZHMuIEZvciBldmVudCBjYWxsYmFja3MsIHZhbHVlcyBhcm91bmQgMTAwIG9yIDI1MCAob3IgZXZlbiBoaWdoZXIpIGFyZSBtb3N0IHVzZWZ1bC5cbiAqIEBwYXJhbSAge0Jvb2xlYW59ICBbYXRCZWdpbl0gICAgIE9wdGlvbmFsLCBkZWZhdWx0cyB0byBmYWxzZS4gSWYgYXRCZWdpbiBpcyBmYWxzZSBvciB1bnNwZWNpZmllZCwgY2FsbGJhY2sgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIGBkZWxheWAgbWlsbGlzZWNvbmRzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZnRlciB0aGUgbGFzdCBkZWJvdW5jZWQtZnVuY3Rpb24gY2FsbC4gSWYgYXRCZWdpbiBpcyB0cnVlLCBjYWxsYmFjayB3aWxsIGJlIGV4ZWN1dGVkIG9ubHkgYXQgdGhlIGZpcnN0IGRlYm91bmNlZC1mdW5jdGlvbiBjYWxsLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKEFmdGVyIHRoZSB0aHJvdHRsZWQtZnVuY3Rpb24gaGFzIG5vdCBiZWVuIGNhbGxlZCBmb3IgYGRlbGF5YCBtaWxsaXNlY29uZHMsIHRoZSBpbnRlcm5hbCBjb3VudGVyIGlzIHJlc2V0KS5cbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgIEEgZnVuY3Rpb24gdG8gYmUgZXhlY3V0ZWQgYWZ0ZXIgZGVsYXkgbWlsbGlzZWNvbmRzLiBUaGUgYHRoaXNgIGNvbnRleHQgYW5kIGFsbCBhcmd1bWVudHMgYXJlIHBhc3NlZCB0aHJvdWdoLCBhcy1pcyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvIGBjYWxsYmFja2Agd2hlbiB0aGUgZGVib3VuY2VkLWZ1bmN0aW9uIGlzIGV4ZWN1dGVkLlxuICpcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBBIG5ldywgZGVib3VuY2VkIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBkZWJvdW5jZSAoIGRlbGF5LCBhdEJlZ2luLCBjYWxsYmFjayApIHtcblx0cmV0dXJuIGNhbGxiYWNrID09PSB1bmRlZmluZWQgPyB0aHJvdHRsZShkZWxheSwgYXRCZWdpbiwgZmFsc2UpIDogdGhyb3R0bGUoZGVsYXksIGNhbGxiYWNrLCBhdEJlZ2luICE9PSBmYWxzZSk7XG59XG5cbmV4cG9ydCB7IHRocm90dGxlLCBkZWJvdW5jZSB9O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4uL25vZGVfbW9kdWxlcy90aHJvdHRsZS1kZWJvdW5jZS9pbmRleC5lc20uanMiLCJpbXBvcnQgUmVhY3QsIHtQdXJlQ29tcG9uZW50fSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFNpZ1BhZCBmcm9tICdzaWduYXR1cmVfcGFkJztcbmltcG9ydCB7ZGVib3VuY2V9IGZyb20gJ3Rocm90dGxlLWRlYm91bmNlJztcblxuY2xhc3MgU2lnbmF0dXJlUGFkIGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG5cbiAgICBzdGF0aWMgZGlzcGxheU5hbWUgPSAncmVhY3Qtc2lnbmF0dXJlLXBhZC13cmFwcGVyJztcblxuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgICAgIHdpZHRoOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgICAgICBoZWlnaHQ6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgICAgIG9wdGlvbnM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgICAgIHJlZHJhd09uUmVzaXplOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICAgICAgICBkZWJvdW5jZUludGVydmFsOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgIGNhbnZhc1Byb3BzOiBQcm9wVHlwZXMub2JqZWN0XG4gICAgfVxuXG4gICAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgcmVkcmF3T25SZXNpemU6IGZhbHNlLFxuICAgICAgICBkZWJvdW5jZUludGVydmFsOiAxNTBcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG5cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtjYW52YXNXaWR0aDogMCwgY2FudmFzSGVpZ2h0OiAwfTtcblxuICAgICAgICB0aGlzLl9jYWxsUmVzaXplSGFuZGxlciA9IGRlYm91bmNlKFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5kZWJvdW5jZUludGVydmFsLFxuICAgICAgICAgICAgdGhpcy5oYW5kbGVSZXNpemUuYmluZCh0aGlzKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy5fY2FudmFzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucHJvcHMud2lkdGggfHwgIXRoaXMucHJvcHMuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zY2FsZUNhbnZhcygpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMucHJvcHMud2lkdGggfHwgIXRoaXMucHJvcHMuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2NhbGxSZXNpemVIYW5kbGVyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fc2lnbmF0dXJlUGFkID0gbmV3IFNpZ1BhZCh0aGlzLl9jYW52YXMsIHRoaXMucHJvcHMub3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLndpZHRoIHx8ICF0aGlzLnByb3BzLmhlaWdodCkge1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2NhbGxSZXNpemVIYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NpZ25hdHVyZVBhZC5vZmYoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG9yaWdpbmFsIHNpZ25hdHVyZV9wYWQgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2lnbmF0dXJlUGFkO1xuICAgIH1cblxuICAgIGdldCBjYW52YXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYW52YXM7XG4gICAgfVxuXG4gICAgc2V0IGRvdFNpemUoZG90U2l6ZSkge1xuICAgICAgICB0aGlzLl9zaWduYXR1cmVQYWQuZG90U2l6ZSA9IGRvdFNpemU7XG4gICAgfVxuXG4gICAgZ2V0IGRvdFNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaWduYXR1cmVQYWQuZG90U2l6ZTtcbiAgICB9XG5cbiAgICBzZXQgbWluV2lkdGgobWluV2lkdGgpIHtcbiAgICAgICAgdGhpcy5fc2lnbmF0dXJlUGFkLm1pbldpZHRoID0gbWluV2lkdGg7XG4gICAgfVxuXG4gICAgZ2V0IG1pbldpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2lnbmF0dXJlUGFkLm1pbldpZHRoO1xuICAgIH1cblxuICAgIHNldCBtYXhXaWR0aChtYXhXaWR0aCkge1xuICAgICAgICB0aGlzLl9zaWduYXR1cmVQYWQubWF4V2lkdGggPSBtYXhXaWR0aDtcbiAgICB9XG5cbiAgICBnZXQgbWF4V2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaWduYXR1cmVQYWQubWF4V2lkdGg7XG4gICAgfVxuXG4gICAgc2V0IHRocm90dGxlKHRocm90dGxlKSB7XG4gICAgICAgIHRoaXMuX3NpZ25hdHVyZVBhZC50aHJvdHRsZSA9IHRocm90dGxlO1xuICAgIH1cblxuICAgIGdldCB0aHJvdHRsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpZ25hdHVyZVBhZC50aHJvdHRsZTtcbiAgICB9XG5cbiAgICBzZXQgYmFja2dyb3VuZENvbG9yKGNvbG9yKSB7XG4gICAgICAgIHRoaXMuX3NpZ25hdHVyZVBhZC5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcbiAgICB9XG5cbiAgICBnZXQgYmFja2dyb3VuZENvbG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2lnbmF0dXJlUGFkLmJhY2tncm91bmRDb2xvcjtcbiAgICB9XG5cbiAgICBzZXQgcGVuQ29sb3IoY29sb3IpIHtcbiAgICAgICAgdGhpcy5fc2lnbmF0dXJlUGFkLnBlbkNvbG9yID0gY29sb3I7XG4gICAgfVxuXG4gICAgZ2V0IHBlbkNvbG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2lnbmF0dXJlUGFkLnBlbkNvbG9yO1xuICAgIH1cblxuICAgIHNldCB2ZWxvY2l0eUZpbHRlcldlaWdodCh3ZWlnaHQpIHtcbiAgICAgICAgdGhpcy5fc2lnbmF0dXJlUGFkLnZlbG9jaXR5RmlsdGVyV2VpZ2h0ID0gd2VpZ2h0O1xuICAgIH1cblxuICAgIGdldCB2ZWxvY2l0eUZpbHRlcldlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpZ25hdHVyZVBhZC52ZWxvY2l0eUZpbHRlcldlaWdodDtcbiAgICB9XG5cbiAgICBzZXQgb25CZWdpbihmbikge1xuICAgICAgICBpZiAoIShmbiAmJiB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnQgcGFzc2VkIHRvIG9uQmVnaW4oKScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2lnbmF0dXJlUGFkLm9uQmVnaW4gPSBmbjtcbiAgICB9XG5cbiAgICBzZXQgb25FbmQoZm4pIHtcbiAgICAgICAgaWYgKCEoZm4gJiYgdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCB0byBvbkVuZCgpJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zaWduYXR1cmVQYWQub25FbmQgPSBmbjtcbiAgICB9XG5cbiAgICBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2lnbmF0dXJlUGFkLmlzRW1wdHkoKTtcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5fc2lnbmF0dXJlUGFkLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgZnJvbURhdGFVUkwoYmFzZTY0U3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX3NpZ25hdHVyZVBhZC5mcm9tRGF0YVVSTChiYXNlNjRTdHJpbmcpO1xuICAgIH1cblxuICAgIHRvRGF0YVVSTChtaW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaWduYXR1cmVQYWQudG9EYXRhVVJMKG1pbWUpO1xuICAgIH1cblxuICAgIGZyb21EYXRhKGRhdGEpIHtcbiAgICAgICAgdGhpcy5fc2lnbmF0dXJlUGFkLmZyb21EYXRhKGRhdGEpO1xuICAgIH1cblxuICAgIHRvRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpZ25hdHVyZVBhZC50b0RhdGEoKTtcbiAgICB9XG5cbiAgICBvZmYoKSB7XG4gICAgICAgIHRoaXMuX3NpZ25hdHVyZVBhZC5vZmYoKTtcbiAgICB9XG5cbiAgICBvbigpIHtcbiAgICAgICAgdGhpcy5fc2lnbmF0dXJlUGFkLm9uKCk7XG4gICAgfVxuXG4gICAgaGFuZGxlUmVzaXplKCkge1xuICAgICAgICB0aGlzLnNjYWxlQ2FudmFzKCk7XG4gICAgfVxuXG4gICAgc2NhbGVDYW52YXMoKSB7XG4gICAgICAgIGNvbnN0IHJhdGlvID0gTWF0aC5tYXgod2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSwgMSk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gKHRoaXMucHJvcHMud2lkdGggfHwgdGhpcy5fY2FudmFzLm9mZnNldFdpZHRoKSAqIHJhdGlvO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSAodGhpcy5wcm9wcy5oZWlnaHQgfHwgdGhpcy5fY2FudmFzLm9mZnNldEhlaWdodCkgKiByYXRpbztcblxuICAgICAgICAvLyBBdm9pZCBuZWVkbGVzc2x5IHNldHRpbmcgaGVpZ2h0L3dpZHRoIGlmIGRpbWVuc2lvbnMgaGF2ZW4ndCBjaGFuZ2VkXG4gICAgICAgIGNvbnN0IHtjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0fSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGlmICh3aWR0aCA9PT0gY2FudmFzV2lkdGggJiYgaGVpZ2h0ID09PSBjYW52YXNIZWlnaHQpIHJldHVybjtcblxuICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucmVkcmF3T25SZXNpemUgJiYgdGhpcy5fc2lnbmF0dXJlUGFkKSB7XG4gICAgICAgICAgICBkYXRhID0gdGhpcy5fc2lnbmF0dXJlUGFkLnRvRGF0YVVSTCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7Y2FudmFzV2lkdGg6IHdpZHRoLCBjYW52YXNIZWlnaHQ6IGhlaWdodH0pO1xuXG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjdHguc2NhbGUocmF0aW8sIHJhdGlvKTtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5yZWRyYXdPblJlc2l6ZSAmJiB0aGlzLl9zaWduYXR1cmVQYWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3NpZ25hdHVyZVBhZC5mcm9tRGF0YVVSTChkYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9zaWduYXR1cmVQYWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3NpZ25hdHVyZVBhZC5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7Y2FudmFzUHJvcHN9ID0gdGhpcy5wcm9wcztcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGNhbnZhc1xuICAgICAgICAgICAgICAgIHJlZj17cmVmID0+IHRoaXMuX2NhbnZhcyA9IHJlZn1cbiAgICAgICAgICAgICAgICB7Li4uY2FudmFzUHJvcHN9IC8+XG4gICAgICAgICk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFNpZ25hdHVyZVBhZDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuLi9zcmMvU2lnbmF0dXJlUGFkLmpzIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiZcbiAgICBTeW1ib2wuZm9yICYmXG4gICAgU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpKSB8fFxuICAgIDB4ZWFjNztcblxuICB2YXIgaXNWYWxpZEVsZW1lbnQgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiZcbiAgICAgIG9iamVjdCAhPT0gbnVsbCAmJlxuICAgICAgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG4gIH07XG5cbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgZGV2ZWxvcG1lbnQgYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgdmFyIHRocm93T25EaXJlY3RBY2Nlc3MgPSB0cnVlO1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMnKShpc1ZhbGlkRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcyk7XG59IGVsc2Uge1xuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBwcm9kdWN0aW9uIGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMnKSgpO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcmVhY3Qtc2lnbmF0dXJlLXBhZC13cmFwcGVyL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSByZXF1aXJlKCcuL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldCcpO1xuXG5mdW5jdGlvbiBlbXB0eUZ1bmN0aW9uKCkge31cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gc2hpbShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgIGlmIChzZWNyZXQgPT09IFJlYWN0UHJvcFR5cGVzU2VjcmV0KSB7XG4gICAgICAvLyBJdCBpcyBzdGlsbCBzYWZlIHdoZW4gY2FsbGVkIGZyb20gUmVhY3QuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoXG4gICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG4gICAgICAnVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gJyArXG4gICAgICAnUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcydcbiAgICApO1xuICAgIGVyci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIHRocm93IGVycjtcbiAgfTtcbiAgc2hpbS5pc1JlcXVpcmVkID0gc2hpbTtcbiAgZnVuY3Rpb24gZ2V0U2hpbSgpIHtcbiAgICByZXR1cm4gc2hpbTtcbiAgfTtcbiAgLy8gSW1wb3J0YW50IVxuICAvLyBLZWVwIHRoaXMgbGlzdCBpbiBzeW5jIHdpdGggcHJvZHVjdGlvbiB2ZXJzaW9uIGluIGAuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzYC5cbiAgdmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuICAgIGFycmF5OiBzaGltLFxuICAgIGJvb2w6IHNoaW0sXG4gICAgZnVuYzogc2hpbSxcbiAgICBudW1iZXI6IHNoaW0sXG4gICAgb2JqZWN0OiBzaGltLFxuICAgIHN0cmluZzogc2hpbSxcbiAgICBzeW1ib2w6IHNoaW0sXG5cbiAgICBhbnk6IHNoaW0sXG4gICAgYXJyYXlPZjogZ2V0U2hpbSxcbiAgICBlbGVtZW50OiBzaGltLFxuICAgIGluc3RhbmNlT2Y6IGdldFNoaW0sXG4gICAgbm9kZTogc2hpbSxcbiAgICBvYmplY3RPZjogZ2V0U2hpbSxcbiAgICBvbmVPZjogZ2V0U2hpbSxcbiAgICBvbmVPZlR5cGU6IGdldFNoaW0sXG4gICAgc2hhcGU6IGdldFNoaW0sXG4gICAgZXhhY3Q6IGdldFNoaW1cbiAgfTtcblxuICBSZWFjdFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyA9IGVtcHR5RnVuY3Rpb247XG4gIFJlYWN0UHJvcFR5cGVzLlByb3BUeXBlcyA9IFJlYWN0UHJvcFR5cGVzO1xuXG4gIHJldHVybiBSZWFjdFByb3BUeXBlcztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9yZWFjdC1zaWduYXR1cmUtcGFkLXdyYXBwZXIvbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzU2VjcmV0O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcmVhY3Qtc2lnbmF0dXJlLXBhZC13cmFwcGVyL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldC5qc1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9